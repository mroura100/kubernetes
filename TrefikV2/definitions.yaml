ctl get nodes
NAME       STATUS   ROLES                  AGE   VERSION
master     Ready    control-plane,master   44h   v1.22.3
worker01   Ready    <none>                 23h   v1.22.3
worker02   Ready    <none>                 23h   v1.22.3
[kubeadmin@master ~]$ cd Traefik/traefik2/
[kubeadmin@master traefik2]$ ll
total 112
-rw-rw-r-- 1 kubeadmin kubeadmin 86790 Oct 30 12:44 crd.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  1032 Oct 30 12:47 deployment-traefik.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin   404 Oct 30 11:22 deployWhoami.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin   985 Oct 30 11:36 ingressRoute_whoami.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin   858 Oct 30 13:05 rbac.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin   472 Oct 30 13:22 svc-traefik.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin   193 Oct 30 12:03 svc-whoami.yaml
[kubeadmin@master traefik2]$ cd ..
[kubeadmin@master Traefik]$ mkdir traefik3
[kubeadmin@master Traefik]$ cd traefik3
[kubeadmin@master traefik3]$ vi rbac.yaml
[kubeadmin@master traefik3]$ vi definitions.yaml
[kubeadmin@master traefik3]$ kubectl apply -f definitions.yaml
customresourcedefinition.apiextensions.k8s.io/ingressroutes.traefik.containo.us configured
customresourcedefinition.apiextensions.k8s.io/ingressroutetcps.traefik.containo.us configured
customresourcedefinition.apiextensions.k8s.io/ingressrouteudps.traefik.containo.us configured
customresourcedefinition.apiextensions.k8s.io/middlewares.traefik.containo.us configured
customresourcedefinition.apiextensions.k8s.io/middlewaretcps.traefik.containo.us configured
customresourcedefinition.apiextensions.k8s.io/serverstransports.traefik.containo.us configured
customresourcedefinition.apiextensions.k8s.io/tlsoptions.traefik.containo.us configured
customresourcedefinition.apiextensions.k8s.io/tlsstores.traefik.containo.us configured
customresourcedefinition.apiextensions.k8s.io/traefikservices.traefik.containo.us configured
[kubeadmin@master traefik3]$ vi rbac.yaml
[kubeadmin@master traefik3]$ kubectl apply -f rbac.yaml
clusterrole.rbac.authorization.k8s.io/traefik-ingress-controller unchanged
clusterrolebinding.rbac.authorization.k8s.io/traefik-ingress-controller configured
[kubeadmin@master traefik3]$ cd ../traefik2
[kubeadmin@master traefik2]$ ll
total 112
-rw-rw-r-- 1 kubeadmin kubeadmin 86790 Oct 30 12:44 crd.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  1032 Oct 30 12:47 deployment-traefik.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin   404 Oct 30 11:22 deployWhoami.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin   985 Oct 30 11:36 ingressRoute_whoami.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin   858 Oct 30 13:05 rbac.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin   472 Oct 30 13:22 svc-traefik.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin   193 Oct 30 12:03 svc-whoami.yaml
[kubeadmin@master traefik2]$ rm -rf rbac.yaml crd.yaml
[kubeadmin@master traefik2]$ vi deployment-traefik.yaml
[kubeadmin@master traefik2]$ kubectl apply -f deployment-traefik.yaml
serviceaccount/traefik-ingress-controller unchanged
deployment.apps/traefik configured
[kubeadmin@master traefik2]$ kubectl get all -A
NAMESPACE          NAME                                           READY   STATUS        RESTARTS         AGE
calico-apiserver   pod/calico-apiserver-6dd4bc68c6-q88sf          1/1     Running       39 (2m46s ago)   44h
calico-system      pod/calico-kube-controllers-767ddd5576-cl2jr   1/1     Running       32 (2m39s ago)   45h
calico-system      pod/calico-node-8h2fs                          1/1     Running       2 (20m ago)      23h
calico-system      pod/calico-node-f7s76                          1/1     Running       1 (22m ago)      23h
calico-system      pod/calico-node-vnq49                          1/1     Running       19 (2m41s ago)   45h
calico-system      pod/calico-typha-665958cf49-8cm7q              1/1     Running       2 (22m ago)      23h
calico-system      pod/calico-typha-665958cf49-pz7qz              1/1     Running       12 (2m46s ago)   23h
calico-system      pod/calico-typha-665958cf49-zrrbp              1/1     Running       0                11m
default            pod/traefik-584784f8cd-9kbnf                   1/1     Running       0                14s
default            pod/traefik-b6b6d86c-7gjj7                     1/1     Terminating   1 (22m ago)      20h
default            pod/whoami-658d568b94-c9z6h                    1/1     Running       1 (22m ago)      20h
default            pod/whoami-658d568b94-xpvrt                    1/1     Running       1 (22m ago)      20h
kube-system        pod/canal-56fn7                                2/2     Running       8 (21m ago)      45h
kube-system        pod/canal-cfldk                                2/2     Running       2 (22m ago)      23h
kube-system        pod/canal-zgrd6                                2/2     Running       2 (22m ago)      23h
kube-system        pod/coredns-78fcd69978-6qld7                   1/1     Running       3 (22m ago)      45h
kube-system        pod/coredns-78fcd69978-gb78g                   1/1     Running       3 (22m ago)      45h
kube-system        pod/etcd-master                                1/1     Running       4 (22m ago)      45h
kube-system        pod/kube-apiserver-master                      1/1     Running       5 (22m ago)      45h
kube-system        pod/kube-controller-manager-master             1/1     Running       36 (12m ago)     45h
kube-system        pod/kube-proxy-56c4f                           1/1     Running       1 (22m ago)      23h
kube-system        pod/kube-proxy-hrgft                           1/1     Running       1 (22m ago)      23h
kube-system        pod/kube-proxy-lwgxb                           1/1     Running       3 (22m ago)      45h
kube-system        pod/kube-scheduler-master                      1/1     Running       34               45h
tigera-operator    pod/tigera-operator-59f4845b57-g5ncb           1/1     Running       42 (12m ago)     45h

NAMESPACE          NAME                                      TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                                                    AGE
calico-apiserver   service/calico-api                        ClusterIP   10.102.25.253   <none>        443/TCP                                                    45h
calico-system      service/calico-kube-controllers-metrics   ClusterIP   10.96.63.231    <none>        9094/TCP                                                   45h
calico-system      service/calico-typha                      ClusterIP   10.100.206.48   <none>        5473/TCP                                                   45h
default            service/kubernetes                        ClusterIP   10.96.0.1       <none>        443/TCP                                                    21h
default            service/traefik                           NodePort    10.98.164.108   <none>        80:30779/TCP,443:32636/TCP,8080:30555/TCP,8000:32221/TCP   20h
default            service/whoami                            ClusterIP   10.110.108.50   <none>        8080/TCP                                                   20h
kube-system        service/kube-dns                          ClusterIP   10.96.0.10      <none>        53/UDP,53/TCP,9153/TCP                                     45h

NAMESPACE       NAME                         DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR            AGE
calico-system   daemonset.apps/calico-node   3         3         3       3            3           kubernetes.io/os=linux   45h
kube-system     daemonset.apps/canal         3         3         3       3            3           kubernetes.io/os=linux   45h
kube-system     daemonset.apps/kube-proxy    3         3         3       3            3           kubernetes.io/os=linux   45h

NAMESPACE          NAME                                      READY   UP-TO-DATE   AVAILABLE   AGE
calico-apiserver   deployment.apps/calico-apiserver          1/1     1            1           45h
calico-system      deployment.apps/calico-kube-controllers   1/1     1            1           45h
calico-system      deployment.apps/calico-typha              3/3     3            3           45h
default            deployment.apps/traefik                   1/1     1            1           20h
default            deployment.apps/whoami                    2/2     2            2           20h
kube-system        deployment.apps/coredns                   2/2     2            2           45h
tigera-operator    deployment.apps/tigera-operator           1/1     1            1           45h

NAMESPACE          NAME                                                 DESIRED   CURRENT   READY   AGE
calico-apiserver   replicaset.apps/calico-apiserver-68764ffc57          0         0         0       45h
calico-apiserver   replicaset.apps/calico-apiserver-6dd4bc68c6          1         1         1       44h
calico-system      replicaset.apps/calico-kube-controllers-767ddd5576   1         1         1       45h
calico-system      replicaset.apps/calico-typha-5d7bf95fb7              0         0         0       45h
calico-system      replicaset.apps/calico-typha-665958cf49              3         3         3       45h
default            replicaset.apps/traefik-584784f8cd                   1         1         1       14s
default            replicaset.apps/traefik-b6b6d86c                     0         0         0       20h
default            replicaset.apps/whoami-658d568b94                    2         2         2       20h
kube-system        replicaset.apps/coredns-78fcd69978                   2         2         2       45h
tigera-operator    replicaset.apps/tigera-operator-59f4845b57           1         1         1       45h
[kubeadmin@master traefik2]$ kubectl get all -A -o wide
NAMESPACE          NAME                                           READY   STATUS             RESTARTS       AGE   IP               NODE       NOMINATED NODE   READINESS GATES
calico-apiserver   pod/calico-apiserver-6dd4bc68c6-q88sf          0/1     Running            40 (58s ago)   45h   192.169.219.79   master     <none>           <none>
calico-system      pod/calico-kube-controllers-767ddd5576-cl2jr   1/1     Running            33 (32s ago)   45h   192.169.219.78   master     <none>           <none>
calico-system      pod/calico-node-8h2fs                          0/1     Running            2 (21m ago)    23h   192.168.1.111    worker01   <none>           <none>
calico-system      pod/calico-node-f7s76                          0/1     Running            1 (24m ago)    23h   192.168.1.112    worker02   <none>           <none>
calico-system      pod/calico-node-vnq49                          0/1     Running            20 (47s ago)   45h   192.168.1.110    master     <none>           <none>
calico-system      pod/calico-typha-665958cf49-8cm7q              1/1     Running            2 (24m ago)    23h   192.168.1.112    worker02   <none>           <none>
calico-system      pod/calico-typha-665958cf49-pz7qz              0/1     CrashLoopBackOff   13 (20s ago)   23h   192.168.1.110    master     <none>           <none>
calico-system      pod/calico-typha-665958cf49-zrrbp              1/1     Running            0              12m   192.168.1.111    worker01   <none>           <none>
default            pod/traefik-584784f8cd-9kbnf                   1/1     Running            0              84s   192.169.5.2      worker01   <none>           <none>
default            pod/whoami-658d568b94-c9z6h                    1/1     Running            1 (24m ago)    20h   192.169.30.75    worker02   <none>           <none>
default            pod/whoami-658d568b94-xpvrt                    1/1     Running            1 (24m ago)    20h   192.169.30.77    worker02   <none>           <none>
kube-system        pod/canal-56fn7                                2/2     Running            8 (22m ago)    45h   192.168.1.110    master     <none>           <none>
kube-system        pod/canal-cfldk                                2/2     Running            2 (24m ago)    23h   192.168.1.112    worker02   <none>           <none>
kube-system        pod/canal-zgrd6                                2/2     Running            2 (24m ago)    23h   192.168.1.111    worker01   <none>           <none>
kube-system        pod/coredns-78fcd69978-6qld7                   1/1     Running            3 (23m ago)    45h   192.169.219.77   master     <none>           <none>
kube-system        pod/coredns-78fcd69978-gb78g                   1/1     Running            3 (23m ago)    45h   192.169.219.80   master     <none>           <none>
kube-system        pod/etcd-master                                1/1     Running            4 (23m ago)    45h   192.168.1.110    master     <none>           <none>
kube-system        pod/kube-apiserver-master                      1/1     Running            5 (23m ago)    45h   192.168.1.110    master     <none>           <none>
kube-system        pod/kube-controller-manager-master             1/1     Running            36 (13m ago)   45h   192.168.1.110    master     <none>           <none>
kube-system        pod/kube-proxy-56c4f                           1/1     Running            1 (24m ago)    23h   192.168.1.112    worker02   <none>           <none>
kube-system        pod/kube-proxy-hrgft                           1/1     Running            1 (24m ago)    23h   192.168.1.111    worker01   <none>           <none>
kube-system        pod/kube-proxy-lwgxb                           1/1     Running            3 (23m ago)    45h   192.168.1.110    master     <none>           <none>
kube-system        pod/kube-scheduler-master                      1/1     Running            34             45h   192.168.1.110    master     <none>           <none>
tigera-operator    pod/tigera-operator-59f4845b57-g5ncb           1/1     Running            42 (13m ago)   45h   192.168.1.110    master     <none>           <none>

NAMESPACE          NAME                                      TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                                                    AGE   SELECTOR
calico-apiserver   service/calico-api                        ClusterIP   10.102.25.253   <none>        443/TCP                                                    45h   apiserver=true
calico-system      service/calico-kube-controllers-metrics   ClusterIP   10.96.63.231    <none>        9094/TCP                                                   45h   k8s-app=calico-kube-controllers
calico-system      service/calico-typha                      ClusterIP   10.100.206.48   <none>        5473/TCP                                                   45h   k8s-app=calico-typha
default            service/kubernetes                        ClusterIP   10.96.0.1       <none>        443/TCP                                                    21h   <none>
default            service/traefik                           NodePort    10.98.164.108   <none>        80:30779/TCP,443:32636/TCP,8080:30555/TCP,8000:32221/TCP   20h   app=traefik
default            service/whoami                            ClusterIP   10.110.108.50   <none>        8080/TCP                                                   20h   app=whoami
kube-system        service/kube-dns                          ClusterIP   10.96.0.10      <none>        53/UDP,53/TCP,9153/TCP                                     45h   k8s-app=kube-dns

NAMESPACE       NAME                         DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR            AGE   CONTAINERS                 IMAGES                                                         SELECTOR
calico-system   daemonset.apps/calico-node   3         3         0       3            0           kubernetes.io/os=linux   45h   calico-node                docker.io/calico/node:v3.20.2                                  k8s-app=calico-node
kube-system     daemonset.apps/canal         3         3         3       3            3           kubernetes.io/os=linux   45h   calico-node,kube-flannel   docker.io/calico/node:v3.20.2,quay.io/coreos/flannel:v0.14.0   k8s-app=canal
kube-system     daemonset.apps/kube-proxy    3         3         3       3            3           kubernetes.io/os=linux   45h   kube-proxy                 k8s.gcr.io/kube-proxy:v1.22.3                                  k8s-app=kube-proxy

NAMESPACE          NAME                                      READY   UP-TO-DATE   AVAILABLE   AGE   CONTAINERS                IMAGES                                      SELECTOR
calico-apiserver   deployment.apps/calico-apiserver          0/1     1            0           45h   calico-apiserver          docker.io/calico/apiserver:v3.20.2          apiserver=true
calico-system      deployment.apps/calico-kube-controllers   1/1     1            1           45h   calico-kube-controllers   docker.io/calico/kube-controllers:v3.20.2   k8s-app=calico-kube-controllers
calico-system      deployment.apps/calico-typha              2/3     3            2           45h   calico-typha              docker.io/calico/typha:v3.20.2              k8s-app=calico-typha
default            deployment.apps/traefik                   1/1     1            1           20h   traefik                   traefik:v2.5                                app=traefik
default            deployment.apps/whoami                    2/2     2            2           20h   whoami                    containous/whoami                           app=whoami
kube-system        deployment.apps/coredns                   2/2     2            2           45h   coredns                   k8s.gcr.io/coredns/coredns:v1.8.4           k8s-app=kube-dns
tigera-operator    deployment.apps/tigera-operator           1/1     1            1           45h   tigera-operator           quay.io/tigera/operator:v1.20.4             name=tigera-operator

NAMESPACE          NAME                                                 DESIRED   CURRENT   READY   AGE   CONTAINERS                IMAGES                                      SELECTOR
calico-apiserver   replicaset.apps/calico-apiserver-68764ffc57          0         0         0       45h   calico-apiserver          docker.io/calico/apiserver:v3.20.2          apiserver=true,pod-template-hash=68764ffc57
calico-apiserver   replicaset.apps/calico-apiserver-6dd4bc68c6          1         1         0       45h   calico-apiserver          docker.io/calico/apiserver:v3.20.2          apiserver=true,pod-template-hash=6dd4bc68c6
calico-system      replicaset.apps/calico-kube-controllers-767ddd5576   1         1         1       45h   calico-kube-controllers   docker.io/calico/kube-controllers:v3.20.2   k8s-app=calico-kube-controllers,pod-template-hash=767ddd5576
calico-system      replicaset.apps/calico-typha-5d7bf95fb7              0         0         0       45h   calico-typha              docker.io/calico/typha:v3.20.2              k8s-app=calico-typha,pod-template-hash=5d7bf95fb7
calico-system      replicaset.apps/calico-typha-665958cf49              3         3         2       45h   calico-typha              docker.io/calico/typha:v3.20.2              k8s-app=calico-typha,pod-template-hash=665958cf49
default            replicaset.apps/traefik-584784f8cd                   1         1         1       85s   traefik                   traefik:v2.5                                app=traefik,pod-template-hash=584784f8cd
default            replicaset.apps/traefik-b6b6d86c                     0         0         0       20h   traefik                   traefik:v2.4                                app=traefik,pod-template-hash=b6b6d86c
default            replicaset.apps/whoami-658d568b94                    2         2         2       20h   whoami                    containous/whoami                           app=whoami,pod-template-hash=658d568b94
kube-system        replicaset.apps/coredns-78fcd69978                   2         2         2       45h   coredns                   k8s.gcr.io/coredns/coredns:v1.8.4           k8s-app=kube-dns,pod-template-hash=78fcd69978
tigera-operator    replicaset.apps/tigera-operator-59f4845b57           1         1         1       45h   tigera-operator           quay.io/tigera/operator:v1.20.4             name=tigera-operator,pod-template-hash=59f4845b57
[kubeadmin@master traefik2]$ ll
total 20
-rw-rw-r-- 1 kubeadmin kubeadmin 1032 Oct 31 09:01 deployment-traefik.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  404 Oct 30 11:22 deployWhoami.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  985 Oct 30 11:36 ingressRoute_whoami.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  472 Oct 30 13:22 svc-traefik.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  193 Oct 30 12:03 svc-whoami.yaml
[kubeadmin@master traefik2]$ vi ingressRoute_whoami.yaml
[kubeadmin@master traefik2]$ vi ingressroute-prueba.yaml
[kubeadmin@master traefik2]$ kubectl apply -f ingressroute-prueba.yaml
ingressroute.traefik.containo.us/foo created
[kubeadmin@master traefik2]$ cd ../
[kubeadmin@master Traefik]$ cd traefik3
[kubeadmin@master traefik3]$ ll
total 68
-rw-rw-r-- 1 kubeadmin kubeadmin 63040 Oct 31 08:55 definitions.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  1144 Oct 31 08:56 rbac.yaml
[kubeadmin@master traefik3]$ vi definitions.yaml
[kubeadmin@master traefik3]$ vi rbac.yaml
[kubeadmin@master traefik3]$ cd ../traefik2
[kubeadmin@master traefik2]$ vi svc-traefik.yaml
[kubeadmin@master traefik2]$ kubectl apply -f svc-traefik.yaml
error: error validating "svc-traefik.yaml": error validating data: ValidationError(Service.spec.ports[2]): unknown field "nodeport" in io.k8s.api.core.v1.ServicePort; if you choose to ignore these errors, turn validation off with --validate=false
[kubeadmin@master traefik2]$ vi svc-traefik.yaml
[kubeadmin@master traefik2]$ kubectl apply -f svc-traefik.yaml
service/traefik configured
[kubeadmin@master traefik2]$ vi deployment-traefik.yaml
[kubeadmin@master traefik2]$ vi deployment-traefik.yaml
[kubeadmin@master traefik2]$ kubectl apply -f deployment-traefik.yaml
serviceaccount/traefik-ingress-controller unchanged
error: unable to recognize "deployment-traefik.yaml": no matches for kind "Deployment" in version "extensions/v1"
[kubeadmin@master traefik2]$ vi deployment-traefik.yaml
[kubeadmin@master traefik2]$ kubectl apply -f deployment-traefik.yaml
serviceaccount/traefik-ingress-controller unchanged
error: unable to recognize "deployment-traefik.yaml": no matches for kind "Deployment" in version "extensions/v1beta1"
[kubeadmin@master traefik2]$ vi deployment-traefik.yaml
[kubeadmin@master traefik2]$ kubectl apply -f deployment-traefik.yaml
serviceaccount/traefik-ingress-controller unchanged
deployment.apps/traefik configured
[kubeadmin@master traefik2]$ ll
total 24
-rw-rw-r-- 1 kubeadmin kubeadmin  919 Oct 31 09:19 deployment-traefik.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  404 Oct 30 11:22 deployWhoami.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin 1317 Oct 31 09:07 ingressroute-prueba.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  985 Oct 30 11:36 ingressRoute_whoami.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  394 Oct 31 09:14 svc-traefik.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  193 Oct 30 12:03 svc-whoami.yaml
[kubeadmin@master traefik2]$ vi deployWhoami.yaml
[kubeadmin@master traefik2]$ kubectl apply -f deployWhoami.yaml
deployment.apps/whoami configured
[kubeadmin@master traefik2]$ vi svc-whoami.yaml
[kubeadmin@master traefik2]$ kubectl apply -f svc-whoami.yaml
service/whoami configured
[kubeadmin@master traefik2]$ vi ingressRoute_whoami.yaml
[kubeadmin@master traefik2]$ kubectl apply -f ingressRoute_whoami.yaml
ingressroute.traefik.containo.us/whoami-whoami created
[kubeadmin@master traefik2]$ kubectl get all -A
NAMESPACE          NAME                                           READY   STATUS    RESTARTS       AGE
calico-apiserver   pod/calico-apiserver-6dd4bc68c6-q88sf          1/1     Running   40 (23m ago)   45h
calico-system      pod/calico-kube-controllers-767ddd5576-cl2jr   1/1     Running   33 (22m ago)   45h
calico-system      pod/calico-node-8h2fs                          1/1     Running   2 (44m ago)    23h
calico-system      pod/calico-node-f7s76                          1/1     Running   1 (46m ago)    23h
calico-system      pod/calico-node-vnq49                          1/1     Running   20 (23m ago)   45h
calico-system      pod/calico-typha-665958cf49-8cm7q              1/1     Running   2 (46m ago)    23h
calico-system      pod/calico-typha-665958cf49-pz7qz              1/1     Running   14 (22m ago)   23h
calico-system      pod/calico-typha-665958cf49-zrrbp              1/1     Running   0              34m
default            pod/traefik-69ccfb946f-njq42                   1/1     Running   0              5m34s
default            pod/whoami-658d568b94-66lv9                    1/1     Running   0              3m51s
default            pod/whoami-658d568b94-c9z6h                    1/1     Running   1 (46m ago)    21h
default            pod/whoami-658d568b94-xpvrt                    1/1     Running   1 (46m ago)    21h
kube-system        pod/canal-56fn7                                2/2     Running   8 (44m ago)    45h
kube-system        pod/canal-cfldk                                2/2     Running   2 (46m ago)    23h
kube-system        pod/canal-zgrd6                                2/2     Running   2 (46m ago)    23h
kube-system        pod/coredns-78fcd69978-6qld7                   1/1     Running   3 (46m ago)    45h
kube-system        pod/coredns-78fcd69978-gb78g                   1/1     Running   3 (46m ago)    45h
kube-system        pod/etcd-master                                1/1     Running   4 (46m ago)    45h
kube-system        pod/kube-apiserver-master                      1/1     Running   5 (46m ago)    45h
kube-system        pod/kube-controller-manager-master             1/1     Running   36 (36m ago)   45h
kube-system        pod/kube-proxy-56c4f                           1/1     Running   1 (46m ago)    23h
kube-system        pod/kube-proxy-hrgft                           1/1     Running   1 (46m ago)    23h
kube-system        pod/kube-proxy-lwgxb                           1/1     Running   3 (46m ago)    45h
kube-system        pod/kube-scheduler-master                      1/1     Running   34             45h
tigera-operator    pod/tigera-operator-59f4845b57-g5ncb           1/1     Running   42 (36m ago)   45h

NAMESPACE          NAME                                      TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                                     AGE
calico-apiserver   service/calico-api                        ClusterIP   10.102.25.253   <none>        443/TCP                                     45h
calico-system      service/calico-kube-controllers-metrics   ClusterIP   10.96.63.231    <none>        9094/TCP                                    45h
calico-system      service/calico-typha                      ClusterIP   10.100.206.48   <none>        5473/TCP                                    45h
default            service/kubernetes                        ClusterIP   10.96.0.1       <none>        443/TCP                                     21h
default            service/traefik                           NodePort    10.98.164.108   <none>        80:30779/TCP,443:32636/TCP,8080:30555/TCP   21h
default            service/whoami                            ClusterIP   10.110.108.50   <none>        80/TCP                                      21h
kube-system        service/kube-dns                          ClusterIP   10.96.0.10      <none>        53/UDP,53/TCP,9153/TCP                      45h

NAMESPACE       NAME                         DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR            AGE
calico-system   daemonset.apps/calico-node   3         3         3       3            3           kubernetes.io/os=linux   45h
kube-system     daemonset.apps/canal         3         3         3       3            3           kubernetes.io/os=linux   45h
kube-system     daemonset.apps/kube-proxy    3         3         3       3            3           kubernetes.io/os=linux   45h

NAMESPACE          NAME                                      READY   UP-TO-DATE   AVAILABLE   AGE
calico-apiserver   deployment.apps/calico-apiserver          1/1     1            1           45h
calico-system      deployment.apps/calico-kube-controllers   1/1     1            1           45h
calico-system      deployment.apps/calico-typha              3/3     3            3           45h
default            deployment.apps/traefik                   1/1     1            1           21h
default            deployment.apps/whoami                    3/3     3            3           21h
kube-system        deployment.apps/coredns                   2/2     2            2           45h
tigera-operator    deployment.apps/tigera-operator           1/1     1            1           45h

NAMESPACE          NAME                                                 DESIRED   CURRENT   READY   AGE
calico-apiserver   replicaset.apps/calico-apiserver-68764ffc57          0         0         0       45h
calico-apiserver   replicaset.apps/calico-apiserver-6dd4bc68c6          1         1         1       45h
calico-system      replicaset.apps/calico-kube-controllers-767ddd5576   1         1         1       45h
calico-system      replicaset.apps/calico-typha-5d7bf95fb7              0         0         0       45h
calico-system      replicaset.apps/calico-typha-665958cf49              3         3         3       45h
default            replicaset.apps/traefik-584784f8cd                   0         0         0       23m
default            replicaset.apps/traefik-69ccfb946f                   1         1         1       5m35s
default            replicaset.apps/traefik-b6b6d86c                     0         0         0       21h
default            replicaset.apps/whoami-658d568b94                    3         3         3       21h
kube-system        replicaset.apps/coredns-78fcd69978                   2         2         2       45h
tigera-operator    replicaset.apps/tigera-operator-59f4845b57           1         1         1       45h
[kubeadmin@master traefik2]$ cd ../traefik3
[kubeadmin@master traefik3]$ ll
total 68
-rw-rw-r-- 1 kubeadmin kubeadmin 63040 Oct 31 08:55 definitions.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  1144 Oct 31 08:56 rbac.yaml
[kubeadmin@master traefik3]$ cd ..
[kubeadmin@master Traefik]$ cd ../traefik2
-bash: cd: ../traefik2: No such file or directory
[kubeadmin@master Traefik]$ ll
total 16
-rw-rw-r-- 1 kubeadmin kubeadmin  778 Oct 29 13:21 001-rbac.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin 1594 Oct 29 13:21 002-deployment.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  527 Oct 29 13:21 003-ingress.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  583 Oct 29 13:21 example-dp.yaml
drwxrwxr-x 2 kubeadmin kubeadmin  173 Oct 31 09:23 traefik2
drwxrwxr-x 2 kubeadmin kubeadmin   47 Oct 31 09:12 traefik3
drwxrwxr-x 2 kubeadmin kubeadmin   80 Oct 29 13:21 whomai
[kubeadmin@master Traefik]$ cd traefik2
[kubeadmin@master traefik2]$ ls -latr
total 24
drwxrwxr-x 5 kubeadmin kubeadmin  147 Oct 31 08:53 ..
-rw-rw-r-- 1 kubeadmin kubeadmin 1317 Oct 31 09:07 ingressroute-prueba.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  394 Oct 31 09:14 svc-traefik.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  919 Oct 31 09:19 deployment-traefik.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  396 Oct 31 09:20 deployWhoami.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  161 Oct 31 09:21 svc-whoami.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  274 Oct 31 09:23 ingressRoute_whoami.yaml
drwxrwxr-x 2 kubeadmin kubeadmin  173 Oct 31 09:23 .
[kubeadmin@master traefik2]$ rm -rf ingressroute-prueba.yaml
[kubeadmin@master traefik2]$ kubectl get all -A -o wide
NAMESPACE          NAME                                           READY   STATUS    RESTARTS       AGE     IP               NODE       NOMINATED NODE   READINESS GATES
calico-apiserver   pod/calico-apiserver-6dd4bc68c6-q88sf          1/1     Running   40 (27m ago)   45h     192.169.219.79   master     <none>           <none>
calico-system      pod/calico-kube-controllers-767ddd5576-cl2jr   1/1     Running   33 (26m ago)   45h     192.169.219.78   master     <none>           <none>
calico-system      pod/calico-node-8h2fs                          1/1     Running   2 (48m ago)    23h     192.168.1.111    worker01   <none>           <none>
calico-system      pod/calico-node-f7s76                          1/1     Running   1 (50m ago)    23h     192.168.1.112    worker02   <none>           <none>
calico-system      pod/calico-node-vnq49                          1/1     Running   20 (26m ago)   45h     192.168.1.110    master     <none>           <none>
calico-system      pod/calico-typha-665958cf49-8cm7q              1/1     Running   2 (50m ago)    23h     192.168.1.112    worker02   <none>           <none>
calico-system      pod/calico-typha-665958cf49-pz7qz              1/1     Running   14 (26m ago)   23h     192.168.1.110    master     <none>           <none>
calico-system      pod/calico-typha-665958cf49-zrrbp              1/1     Running   0              38m     192.168.1.111    worker01   <none>           <none>
default            pod/traefik-69ccfb946f-njq42                   1/1     Running   0              9m25s   192.169.30.78    worker02   <none>           <none>
default            pod/whoami-658d568b94-66lv9                    1/1     Running   0              7m42s   192.169.30.79    worker02   <none>           <none>
default            pod/whoami-658d568b94-c9z6h                    1/1     Running   1 (50m ago)    21h     192.169.30.75    worker02   <none>           <none>
default            pod/whoami-658d568b94-xpvrt                    1/1     Running   1 (50m ago)    21h     192.169.30.77    worker02   <none>           <none>
kube-system        pod/canal-56fn7                                2/2     Running   8 (48m ago)    45h     192.168.1.110    master     <none>           <none>
kube-system        pod/canal-cfldk                                2/2     Running   2 (50m ago)    23h     192.168.1.112    worker02   <none>           <none>
kube-system        pod/canal-zgrd6                                2/2     Running   2 (50m ago)    23h     192.168.1.111    worker01   <none>           <none>
kube-system        pod/coredns-78fcd69978-6qld7                   1/1     Running   3 (49m ago)    45h     192.169.219.77   master     <none>           <none>
kube-system        pod/coredns-78fcd69978-gb78g                   1/1     Running   3 (49m ago)    45h     192.169.219.80   master     <none>           <none>
kube-system        pod/etcd-master                                1/1     Running   4 (49m ago)    45h     192.168.1.110    master     <none>           <none>
kube-system        pod/kube-apiserver-master                      1/1     Running   5 (49m ago)    45h     192.168.1.110    master     <none>           <none>
kube-system        pod/kube-controller-manager-master             1/1     Running   36 (40m ago)   45h     192.168.1.110    master     <none>           <none>
kube-system        pod/kube-proxy-56c4f                           1/1     Running   1 (50m ago)    23h     192.168.1.112    worker02   <none>           <none>
kube-system        pod/kube-proxy-hrgft                           1/1     Running   1 (50m ago)    23h     192.168.1.111    worker01   <none>           <none>
kube-system        pod/kube-proxy-lwgxb                           1/1     Running   3 (49m ago)    45h     192.168.1.110    master     <none>           <none>
kube-system        pod/kube-scheduler-master                      1/1     Running   34             45h     192.168.1.110    master     <none>           <none>
tigera-operator    pod/tigera-operator-59f4845b57-g5ncb           1/1     Running   42 (40m ago)   45h     192.168.1.110    master     <none>           <none>

NAMESPACE          NAME                                      TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                                     AGE   SELECTOR
calico-apiserver   service/calico-api                        ClusterIP   10.102.25.253   <none>        443/TCP                                     45h   apiserver=true
calico-system      service/calico-kube-controllers-metrics   ClusterIP   10.96.63.231    <none>        9094/TCP                                    45h   k8s-app=calico-kube-controllers
calico-system      service/calico-typha                      ClusterIP   10.100.206.48   <none>        5473/TCP                                    45h   k8s-app=calico-typha
default            service/kubernetes                        ClusterIP   10.96.0.1       <none>        443/TCP                                     21h   <none>
default            service/traefik                           NodePort    10.98.164.108   <none>        80:30779/TCP,443:32636/TCP,8080:30555/TCP   21h   app=traefik
default            service/whoami                            ClusterIP   10.110.108.50   <none>        80/TCP                                      21h   app=whoami
kube-system        service/kube-dns                          ClusterIP   10.96.0.10      <none>        53/UDP,53/TCP,9153/TCP                      45h   k8s-app=kube-dns

NAMESPACE       NAME                         DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR            AGE   CONTAINERS                 IMAGES                                                         SELECTOR
calico-system   daemonset.apps/calico-node   3         3         3       3            3           kubernetes.io/os=linux   45h   calico-node                docker.io/calico/node:v3.20.2                                  k8s-app=calico-node
kube-system     daemonset.apps/canal         3         3         3       3            3           kubernetes.io/os=linux   45h   calico-node,kube-flannel   docker.io/calico/node:v3.20.2,quay.io/coreos/flannel:v0.14.0   k8s-app=canal
kube-system     daemonset.apps/kube-proxy    3         3         3       3            3           kubernetes.io/os=linux   45h   kube-proxy                 k8s.gcr.io/kube-proxy:v1.22.3                                  k8s-app=kube-proxy

NAMESPACE          NAME                                      READY   UP-TO-DATE   AVAILABLE   AGE   CONTAINERS                IMAGES                                      SELECTOR
calico-apiserver   deployment.apps/calico-apiserver          1/1     1            1           45h   calico-apiserver          docker.io/calico/apiserver:v3.20.2          apiserver=true
calico-system      deployment.apps/calico-kube-controllers   1/1     1            1           45h   calico-kube-controllers   docker.io/calico/kube-controllers:v3.20.2   k8s-app=calico-kube-controllers
calico-system      deployment.apps/calico-typha              3/3     3            3           45h   calico-typha              docker.io/calico/typha:v3.20.2              k8s-app=calico-typha
default            deployment.apps/traefik                   1/1     1            1           21h   traefik                   traefik:v2.5                                app=traefik
default            deployment.apps/whoami                    3/3     3            3           21h   whoami                    containous/whoami                           app=whoami
kube-system        deployment.apps/coredns                   2/2     2            2           45h   coredns                   k8s.gcr.io/coredns/coredns:v1.8.4           k8s-app=kube-dns
tigera-operator    deployment.apps/tigera-operator           1/1     1            1           45h   tigera-operator           quay.io/tigera/operator:v1.20.4             name=tigera-operator

NAMESPACE          NAME                                                 DESIRED   CURRENT   READY   AGE     CONTAINERS                IMAGES                                      SELECTOR
calico-apiserver   replicaset.apps/calico-apiserver-68764ffc57          0         0         0       45h     calico-apiserver          docker.io/calico/apiserver:v3.20.2          apiserver=true,pod-template-hash=68764ffc57
calico-apiserver   replicaset.apps/calico-apiserver-6dd4bc68c6          1         1         1       45h     calico-apiserver          docker.io/calico/apiserver:v3.20.2          apiserver=true,pod-template-hash=6dd4bc68c6
calico-system      replicaset.apps/calico-kube-controllers-767ddd5576   1         1         1       45h     calico-kube-controllers   docker.io/calico/kube-controllers:v3.20.2   k8s-app=calico-kube-controllers,pod-template-hash=767ddd5576
calico-system      replicaset.apps/calico-typha-5d7bf95fb7              0         0         0       45h     calico-typha              docker.io/calico/typha:v3.20.2              k8s-app=calico-typha,pod-template-hash=5d7bf95fb7
calico-system      replicaset.apps/calico-typha-665958cf49              3         3         3       45h     calico-typha              docker.io/calico/typha:v3.20.2              k8s-app=calico-typha,pod-template-hash=665958cf49
default            replicaset.apps/traefik-584784f8cd                   0         0         0       27m     traefik                   traefik:v2.5                                app=traefik,pod-template-hash=584784f8cd
default            replicaset.apps/traefik-69ccfb946f                   1         1         1       9m25s   traefik                   traefik:v2.5                                app=traefik,pod-template-hash=69ccfb946f
default            replicaset.apps/traefik-b6b6d86c                     0         0         0       21h     traefik                   traefik:v2.4                                app=traefik,pod-template-hash=b6b6d86c
default            replicaset.apps/whoami-658d568b94                    3         3         3       21h     whoami                    containous/whoami                           app=whoami,pod-template-hash=658d568b94
kube-system        replicaset.apps/coredns-78fcd69978                   2         2         2       45h     coredns                   k8s.gcr.io/coredns/coredns:v1.8.4           k8s-app=kube-dns,pod-template-hash=78fcd69978
tigera-operator    replicaset.apps/tigera-operator-59f4845b57           1         1         1       45h     tigera-operator           quay.io/tigera/operator:v1.20.4             name=tigera-operator,pod-template-hash=59f4845b57
[kubeadmin@master traefik2]$
[kubeadmin@master traefik2]$ ll
total 20
-rw-rw-r-- 1 kubeadmin kubeadmin 919 Oct 31 09:19 deployment-traefik.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin 396 Oct 31 09:20 deployWhoami.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin 274 Oct 31 09:23 ingressRoute_whoami.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin 394 Oct 31 09:14 svc-traefik.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin 161 Oct 31 09:21 svc-whoami.yaml
[kubeadmin@master traefik2]$ cd ..
[kubeadmin@master Traefik]$ ll
total 16
-rw-rw-r-- 1 kubeadmin kubeadmin  778 Oct 29 13:21 001-rbac.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin 1594 Oct 29 13:21 002-deployment.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  527 Oct 29 13:21 003-ingress.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  583 Oct 29 13:21 example-dp.yaml
drwxrwxr-x 2 kubeadmin kubeadmin  141 Oct 31 09:27 traefik2
drwxrwxr-x 2 kubeadmin kubeadmin   47 Oct 31 09:12 traefik3
drwxrwxr-x 2 kubeadmin kubeadmin   80 Oct 29 13:21 whomai
[kubeadmin@master Traefik]$ cd ..
[kubeadmin@master ~]$ ls
appTomcat  deploys  josedom-mariadb-wp  mysql-wordpress  nfs-Nginx  php-redis  Traefik  wp3  wp-mysql_2
[kubeadmin@master ~]$ cd appTomcat/
[kubeadmin@master appTomcat]$ ls
apache-tomcat-8.5.72.tar.gz  apache-tomcat-8.5.72.zip  cas-server.war  ci2rest.war  Dockerfile  jbossHelloWorld.war
[kubeadmin@master appTomcat]$ cd deploys
-bash: cd: deploys: No such file or directory
[kubeadmin@master appTomcat]$ cd ../deploys/
[kubeadmin@master deploys]$ ll
total 0
drwxrwxr-x 2 kubeadmin kubeadmin 34 Oct 30 10:48 appPrueba
[kubeadmin@master deploys]$ cd appPrueba/
[kubeadmin@master appPrueba]$ ls
animals-ingress.yaml
[kubeadmin@master appPrueba]$ vi animals-ingress.yaml
[kubeadmin@master appPrueba]$ cd ../../Traefik/traefik2/
[kubeadmin@master traefik2]$ ll
total 20
-rw-rw-r-- 1 kubeadmin kubeadmin 919 Oct 31 09:19 deployment-traefik.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin 396 Oct 31 09:20 deployWhoami.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin 274 Oct 31 09:23 ingressRoute_whoami.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin 394 Oct 31 09:14 svc-traefik.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin 161 Oct 31 09:21 svc-whoami.yaml
[kubeadmin@master traefik2]$ vi deployWhoami.yaml
[kubeadmin@master traefik2]$ ^C
[kubeadmin@master traefik2]$ ^C
[kubeadmin@master traefik2]$ vi ingressRoute_whoami.yaml
[kubeadmin@master traefik2]$ cd ..
[kubeadmin@master Traefik]$ cd ..
[kubeadmin@master ~]$ cd deploys/
[kubeadmin@master deploys]$ ll
total 0
drwxrwxr-x 2 kubeadmin kubeadmin 34 Oct 31 09:32 appPrueba
[kubeadmin@master deploys]$ cd appPrueba/
[kubeadmin@master appPrueba]$ vi animals-ingress.yaml
[kubeadmin@master appPrueba]$ cd ../../Traefik/traefik2
[kubeadmin@master traefik2]$ ll
total 20
-rw-rw-r-- 1 kubeadmin kubeadmin 919 Oct 31 09:19 deployment-traefik.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin 396 Oct 31 09:20 deployWhoami.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin 274 Oct 31 09:34 ingressRoute_whoami.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin 394 Oct 31 09:14 svc-traefik.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin 161 Oct 31 09:21 svc-whoami.yaml
[kubeadmin@master traefik2]$ vi svc-whoami.yaml
[kubeadmin@master traefik2]$ cd ../../deploys/
[kubeadmin@master deploys]$ ll
total 0
drwxrwxr-x 2 kubeadmin kubeadmin 34 Oct 31 09:35 appPrueba
[kubeadmin@master deploys]$ cd appPrueba/
[kubeadmin@master appPrueba]$ ll
total 4
-rw-rw-r-- 1 kubeadmin kubeadmin 875 Oct 31 09:35 animals-ingress.yaml
[kubeadmin@master appPrueba]$ cd animals-ingress.yaml
-bash: cd: animals-ingress.yaml: Not a directory
[kubeadmin@master appPrueba]$ vi animals-ingress.yaml
[kubeadmin@master appPrueba]$ kubectl apply -f animals-ingress.yaml
deployment.apps/tomcat-prueba created
error: error parsing animals-ingress.yaml: error converting YAML to JSON: yaml: line 9: did not find expected key
[kubeadmin@master appPrueba]$ vi animals-ingress.yaml
[kubeadmin@master appPrueba]$ vi animals-ingress.yaml
[kubeadmin@master appPrueba]$ kubectl apply -f animals-ingress.yaml
deployment.apps/tomcat-prueba configured
error: error parsing animals-ingress.yaml: error converting YAML to JSON: yaml: line 9: did not find expected key
[kubeadmin@master appPrueba]$ kubectl get all -A
NAMESPACE          NAME                                           READY   STATUS        RESTARTS       AGE
calico-apiserver   pod/calico-apiserver-6dd4bc68c6-q88sf          1/1     Running       40 (39m ago)   45h
calico-system      pod/calico-kube-controllers-767ddd5576-cl2jr   1/1     Running       33 (39m ago)   45h
calico-system      pod/calico-node-8h2fs                          1/1     Running       2 (60m ago)    23h
calico-system      pod/calico-node-f7s76                          1/1     Running       1 (63m ago)    23h
calico-system      pod/calico-node-vnq49                          1/1     Running       20 (39m ago)   45h
calico-system      pod/calico-typha-665958cf49-8cm7q              1/1     Running       2 (63m ago)    23h
calico-system      pod/calico-typha-665958cf49-pz7qz              1/1     Running       14 (39m ago)   23h
calico-system      pod/calico-typha-665958cf49-zrrbp              1/1     Running       0              51m
default            pod/tomcat-prueba-5c8597dcc6-pvv84             1/1     Running       0              32s
default            pod/tomcat-prueba-5c8597dcc6-xlprm             1/1     Running       0              40s
default            pod/tomcat-prueba-5c8597dcc6-zrh9q             1/1     Running       0              48s
default            pod/tomcat-prueba-868b776cc5-9g8bw             1/1     Terminating   0              4m44s
default            pod/tomcat-prueba-868b776cc5-gdl7l             1/1     Terminating   0              4m44s
default            pod/traefik-69ccfb946f-njq42                   1/1     Running       0              22m
default            pod/whoami-658d568b94-66lv9                    1/1     Running       0              20m
default            pod/whoami-658d568b94-c9z6h                    1/1     Running       1 (63m ago)    21h
default            pod/whoami-658d568b94-xpvrt                    1/1     Running       1 (63m ago)    21h
kube-system        pod/canal-56fn7                                2/2     Running       8 (61m ago)    45h
kube-system        pod/canal-cfldk                                2/2     Running       2 (63m ago)    23h
kube-system        pod/canal-zgrd6                                2/2     Running       2 (63m ago)    23h
kube-system        pod/coredns-78fcd69978-6qld7                   1/1     Running       3 (62m ago)    45h
kube-system        pod/coredns-78fcd69978-gb78g                   1/1     Running       3 (62m ago)    45h
kube-system        pod/etcd-master                                1/1     Running       4 (62m ago)    45h
kube-system        pod/kube-apiserver-master                      1/1     Running       5 (62m ago)    45h
kube-system        pod/kube-controller-manager-master             1/1     Running       36 (52m ago)   45h
kube-system        pod/kube-proxy-56c4f                           1/1     Running       1 (63m ago)    23h
kube-system        pod/kube-proxy-hrgft                           1/1     Running       1 (63m ago)    23h
kube-system        pod/kube-proxy-lwgxb                           1/1     Running       3 (62m ago)    45h
kube-system        pod/kube-scheduler-master                      1/1     Running       34             45h
tigera-operator    pod/tigera-operator-59f4845b57-g5ncb           1/1     Running       42 (52m ago)   45h

NAMESPACE          NAME                                      TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                                     AGE
calico-apiserver   service/calico-api                        ClusterIP   10.102.25.253   <none>        443/TCP                                     45h
calico-system      service/calico-kube-controllers-metrics   ClusterIP   10.96.63.231    <none>        9094/TCP                                    45h
calico-system      service/calico-typha                      ClusterIP   10.100.206.48   <none>        5473/TCP                                    45h
default            service/kubernetes                        ClusterIP   10.96.0.1       <none>        443/TCP                                     21h
default            service/traefik                           NodePort    10.98.164.108   <none>        80:30779/TCP,443:32636/TCP,8080:30555/TCP   21h
default            service/whoami                            ClusterIP   10.110.108.50   <none>        80/TCP                                      21h
kube-system        service/kube-dns                          ClusterIP   10.96.0.10      <none>        53/UDP,53/TCP,9153/TCP                      45h

NAMESPACE       NAME                         DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR            AGE
calico-system   daemonset.apps/calico-node   3         3         2       3            2           kubernetes.io/os=linux   45h
kube-system     daemonset.apps/canal         3         3         2       3            2           kubernetes.io/os=linux   45h
kube-system     daemonset.apps/kube-proxy    3         3         2       3            2           kubernetes.io/os=linux   45h

NAMESPACE          NAME                                      READY   UP-TO-DATE   AVAILABLE   AGE
calico-apiserver   deployment.apps/calico-apiserver          1/1     1            1           45h
calico-system      deployment.apps/calico-kube-controllers   1/1     1            1           45h
calico-system      deployment.apps/calico-typha              2/3     3            2           45h
default            deployment.apps/tomcat-prueba             3/3     3            3           4m45s
default            deployment.apps/traefik                   1/1     1            1           21h
default            deployment.apps/whoami                    3/3     3            3           21h
kube-system        deployment.apps/coredns                   2/2     2            2           45h
tigera-operator    deployment.apps/tigera-operator           1/1     1            1           45h

NAMESPACE          NAME                                                 DESIRED   CURRENT   READY   AGE
calico-apiserver   replicaset.apps/calico-apiserver-68764ffc57          0         0         0       45h
calico-apiserver   replicaset.apps/calico-apiserver-6dd4bc68c6          1         1         1       45h
calico-system      replicaset.apps/calico-kube-controllers-767ddd5576   1         1         1       45h
calico-system      replicaset.apps/calico-typha-5d7bf95fb7              0         0         0       45h
calico-system      replicaset.apps/calico-typha-665958cf49              3         3         2       45h
default            replicaset.apps/tomcat-prueba-5c8597dcc6             3         3         3       50s
default            replicaset.apps/tomcat-prueba-868b776cc5             0         0         0       4m46s
default            replicaset.apps/traefik-584784f8cd                   0         0         0       40m
default            replicaset.apps/traefik-69ccfb946f                   1         1         1       22m
default            replicaset.apps/traefik-b6b6d86c                     0         0         0       21h
default            replicaset.apps/whoami-658d568b94                    3         3         3       21h
kube-system        replicaset.apps/coredns-78fcd69978                   2         2         2       45h
tigera-operator    replicaset.apps/tigera-operator-59f4845b57           1         1         1       45h
[kubeadmin@master appPrueba]$ vi animals-ingress.yaml
[kubeadmin@master appPrueba]$ kubectl apply -f animals-ingress.yaml
deployment.apps/tomcat-prueba unchanged
error: error parsing animals-ingress.yaml: error converting YAML to JSON: yaml: line 9: did not find expected key
[kubeadmin@master appPrueba]$ su -
Password:
Last login: Sat Oct 30 10:07:03 CEST 2021 on pts/1
[root@master ~]# npm install -g yaml-lint
-bash: npm: command not found
[root@master ~]# yum install npm
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
epel/x86_64/metalink                                                                                                                                                          |  18 kB  00:00:00
 * base: mirror.airenetworks.es
 * epel: mirror.netcologne.de
 * extras: mirror.airenetworks.es
 * updates: mirror.airenetworks.es
base                                                                                                                                                                          | 3.6 kB  00:00:00
docker-ce-stable                                                                                                                                                              | 3.5 kB  00:00:00
epel                                                                                                                                                                          | 4.7 kB  00:00:00
extras                                                                                                                                                                        | 2.9 kB  00:00:00
kubernetes/signature                                                                                                                                                          |  844 B  00:00:00
kubernetes/signature                                                                                                                                                          | 1.4 kB  00:00:00 !!!
updates                                                                                                                                                                       | 2.9 kB  00:00:00
wandisco-git                                                                                                                                                                  | 2.9 kB  00:00:00
(1/2): epel/x86_64/updateinfo                                                                                                                                                 | 1.0 MB  00:00:03
(2/2): epel/x86_64/primary_db                                                                                                                                                 | 7.0 MB  00:00:11
Resolving Dependencies
--> Running transaction check
---> Package npm.x86_64 1:3.10.10-1.6.17.1.1.el7 will be installed
--> Processing Dependency: nodejs = 1:6.17.1-1.el7 for package: 1:npm-3.10.10-1.6.17.1.1.el7.x86_64
--> Running transaction check
---> Package nodejs.x86_64 1:6.17.1-1.el7 will be installed
--> Processing Dependency: libuv >= 1:1.9.1 for package: 1:nodejs-6.17.1-1.el7.x86_64
--> Processing Dependency: libicudata.so.50()(64bit) for package: 1:nodejs-6.17.1-1.el7.x86_64
--> Processing Dependency: libicui18n.so.50()(64bit) for package: 1:nodejs-6.17.1-1.el7.x86_64
--> Processing Dependency: libicuuc.so.50()(64bit) for package: 1:nodejs-6.17.1-1.el7.x86_64
--> Processing Dependency: libuv.so.1()(64bit) for package: 1:nodejs-6.17.1-1.el7.x86_64
--> Running transaction check
---> Package libicu.x86_64 0:50.2-4.el7_7 will be installed
---> Package libuv.x86_64 1:1.42.0-2.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

=====================================================================================================================================================================================================
 Package                                    Arch                                       Version                                                        Repository                                Size
=====================================================================================================================================================================================================
Installing:
 npm                                        x86_64                                     1:3.10.10-1.6.17.1.1.el7                                       epel                                     2.5 M
Installing for dependencies:
 libicu                                     x86_64                                     50.2-4.el7_7                                                   base                                     6.9 M
 libuv                                      x86_64                                     1:1.42.0-2.el7                                                 epel                                     141 k
 nodejs                                     x86_64                                     1:6.17.1-1.el7                                                 epel                                     4.7 M

Transaction Summary
=====================================================================================================================================================================================================
Install  1 Package (+3 Dependent packages)

Total download size: 14 M
Installed size: 51 M
Is this ok [y/d/N]: y
Downloading packages:
(1/4): libuv-1.42.0-2.el7.x86_64.rpm                                                                                                                                          | 141 kB  00:00:07
(2/4): libicu-50.2-4.el7_7.x86_64.rpm                                                                                                                                         | 6.9 MB  00:00:09
(3/4): npm-3.10.10-1.6.17.1.1.el7.x86_64.rpm                                                                                                                                  | 2.5 MB  00:00:11
(4/4): nodejs-6.17.1-1.el7.x86_64.rpm                                                                                                                                         | 4.7 MB  00:00:16
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Total                                                                                                                                                                856 kB/s |  14 MB  00:00:17
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : libicu-50.2-4.el7_7.x86_64                                                                                                                                                        1/4
  Installing : 1:libuv-1.42.0-2.el7.x86_64                                                                                                                                                       2/4
  Installing : 1:nodejs-6.17.1-1.el7.x86_64                                                                                                                                                      3/4
  Installing : 1:npm-3.10.10-1.6.17.1.1.el7.x86_64                                                                                                                                               4/4
  Verifying  : 1:npm-3.10.10-1.6.17.1.1.el7.x86_64                                                                                                                                               1/4
  Verifying  : 1:nodejs-6.17.1-1.el7.x86_64                                                                                                                                                      2/4
  Verifying  : 1:libuv-1.42.0-2.el7.x86_64                                                                                                                                                       3/4
  Verifying  : libicu-50.2-4.el7_7.x86_64                                                                                                                                                        4/4

Installed:
  npm.x86_64 1:3.10.10-1.6.17.1.1.el7

Dependency Installed:
  libicu.x86_64 0:50.2-4.el7_7                                     libuv.x86_64 1:1.42.0-2.el7                                     nodejs.x86_64 1:6.17.1-1.el7

Complete!
[root@master ~]# su - kubeadmin
Last login: Sun Oct 31 08:40:52 CET 2021 from 192.168.1.156 on pts/0
[kubeadmin@master ~]$ ll
total 0
drwxrwxr-x 2 kubeadmin kubeadmin 159 Oct 29 13:21 appTomcat
drwxrwxr-x 3 kubeadmin kubeadmin  23 Oct 29 13:21 deploys
drwxrwxr-x 2 kubeadmin kubeadmin 267 Oct 29 13:21 josedom-mariadb-wp
drwxrwxr-x 2 kubeadmin kubeadmin 180 Oct 29 13:21 mysql-wordpress
drwxrwxr-x 2 kubeadmin kubeadmin  65 Oct 29 13:21 nfs-Nginx
drwxrwxr-x 2 kubeadmin kubeadmin 170 Oct 29 13:21 php-redis
drwxrwxr-x 5 kubeadmin kubeadmin 147 Oct 31 08:53 Traefik
drwxrwxr-x 2 kubeadmin kubeadmin 188 Oct 29 13:21 wp3
drwxrwxr-x 2 kubeadmin kubeadmin  76 Oct 29 13:21 wp-mysql_2
[kubeadmin@master ~]$ cd appTomcat/
[kubeadmin@master appTomcat]$ ll
total 90616
-rw-rw-r-- 1 kubeadmin kubeadmin      196 Oct 29 13:21 apache-tomcat-8.5.72.tar.gz
-rw-rw-r-- 1 kubeadmin kubeadmin      196 Oct 29 13:21 apache-tomcat-8.5.72.zip
-rw-rw-r-- 1 kubeadmin kubeadmin 42951654 Oct 29 13:21 cas-server.war
-rw-rw-r-- 1 kubeadmin kubeadmin 49817408 Oct 29 13:21 ci2rest.war
-rw-rw-r-- 1 kubeadmin kubeadmin      528 Oct 29 13:21 Dockerfile
-rw-rw-r-- 1 kubeadmin kubeadmin     1599 Oct 29 13:21 jbossHelloWorld.war
[kubeadmin@master appTomcat]$ cd ../deploys/
[kubeadmin@master deploys]$ ll
total 0
drwxrwxr-x 2 kubeadmin kubeadmin 34 Oct 31 09:42 appPrueba
[kubeadmin@master deploys]$ cd appPrueba/
[kubeadmin@master appPrueba]$ ll
total 4
-rw-rw-r-- 1 kubeadmin kubeadmin 844 Oct 31 09:42 animals-ingress.yaml
[kubeadmin@master appPrueba]$ yamllint animals-ingress.yaml
-bash: yamllint: command not found
[kubeadmin@master appPrueba]$ su -
Password:
Last login: Sun Oct 31 09:44:03 CET 2021 on pts/0
[root@master ~]# npm install -g yaml-lint
/usr/bin/yamllint -> /usr/lib/node_modules/yaml-lint/cli.js
/usr/lib
 yaml-lint@1.2.4
   glob@7.2.0
    fs.realpath@1.0.0
    inflight@1.0.6
     wrappy@1.0.2
    inherits@2.0.4
    minimatch@3.0.4
     brace-expansion@1.1.11
       balanced-match@1.0.2
       concat-map@0.0.1
    once@1.4.0
    path-is-absolute@1.0.1
   js-yaml@3.14.1
    argparse@1.0.10
     sprintf-js@1.0.3
    esprima@4.0.1
   leprechaun@0.0.2
    log-symbols@1.0.2
      chalk@1.1.3
        ansi-styles@2.2.1
        escape-string-regexp@1.0.5
        has-ansi@2.0.0
         ansi-regex@2.1.1
        strip-ansi@3.0.1
        supports-color@2.0.0
   lodash.merge@4.6.2
   lodash.snakecase@4.1.1
   nconf@0.10.0
     async@1.5.2
     ini@1.3.8
     secure-keys@1.0.0
     yargs@3.32.0
       camelcase@2.1.1
       cliui@3.2.0
        wrap-ansi@2.1.0
       decamelize@1.2.0
       os-locale@1.4.0
        lcid@1.0.0
          invert-kv@1.0.0
       string-width@1.0.2
        code-point-at@1.1.0
        is-fullwidth-code-point@1.0.0
          number-is-nan@1.0.1
       window-size@0.1.4
       y18n@3.2.2

[root@master ~]# su - kubeadmin
Last login: Sun Oct 31 09:51:24 CET 2021 on pts/0
[kubeadmin@master ~]$ cd appTomcat/
[kubeadmin@master appTomcat]$ ll
total 90616
-rw-rw-r-- 1 kubeadmin kubeadmin      196 Oct 29 13:21 apache-tomcat-8.5.72.tar.gz
-rw-rw-r-- 1 kubeadmin kubeadmin      196 Oct 29 13:21 apache-tomcat-8.5.72.zip
-rw-rw-r-- 1 kubeadmin kubeadmin 42951654 Oct 29 13:21 cas-server.war
-rw-rw-r-- 1 kubeadmin kubeadmin 49817408 Oct 29 13:21 ci2rest.war
-rw-rw-r-- 1 kubeadmin kubeadmin      528 Oct 29 13:21 Dockerfile
-rw-rw-r-- 1 kubeadmin kubeadmin     1599 Oct 29 13:21 jbossHelloWorld.war
[kubeadmin@master appTomcat]$ cd ../deploys/appPrueba/
[kubeadmin@master appPrueba]$ ll
total 4
-rw-rw-r-- 1 kubeadmin kubeadmin 844 Oct 31 09:42 animals-ingress.yaml
[kubeadmin@master appPrueba]$ yamllint animals-ingress.yaml
 YAML Lint failed for /home/kubeadmin/deploys/appPrueba/animals-ingress.yaml
 bad indentation of a mapping entry at line 33, column 4:
       selector:
       ^
[kubeadmin@master appPrueba]$ vi animals-ingress.yaml
[kubeadmin@master appPrueba]$ kubectl apply -f animals-ingress.yaml
deployment.apps/tomcat-prueba unchanged
service/svc-tomcat-prueba created
ingressroute.traefik.containo.us/whoami-whoami configured
[kubeadmin@master appPrueba]$ vi animals-ingress.yaml
[kubeadmin@master appPrueba]$ vi animals-ingress.yaml
[kubeadmin@master appPrueba]$ kubectl apply -f animals-ingress.yaml
deployment.apps/tomcat-prueba unchanged
service/svc-tomcat-prueba unchanged
The IngressRoute "tomcatApp" is invalid: metadata.name: Invalid value: "tomcatApp": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*')
[kubeadmin@master appPrueba]$ vi animals-ingress.yaml
[kubeadmin@master appPrueba]$ kubectl apply -f animals-ingress.yaml
deployment.apps/tomcat-prueba unchanged
service/svc-tomcat-prueba unchanged
ingressroute.traefik.containo.us/tomcatapp created
[kubeadmin@master appPrueba]$ kubectl apply -f ../../Traefik/traefik2/ingressRoute_whoami.yaml
ingressroute.traefik.containo.us/whoami-whoami configured
[kubeadmin@master appPrueba]$ cat ../../Traefik/traefik2/ingressRoute_whoami.yaml
apiVersion: traefik.containo.us/v1alpha1
kind: IngressRoute
metadata:
  name: whoami-whoami
  namespace: default
spec:
  entryPoints:
    - web
    - websecure
  routes:
  - match: PathPrefix(`/whoami-app-api`)
    kind: Rule
    services:
    - name: whoami
      port: 80
[kubeadmin@master appPrueba]$ cat animals-ingress.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: tomcat-prueba
  labels:
    app: tomcat-prueba
spec:
  replicas: 3
  selector:
    matchLabels:
      app: tomcat-prueba
  template:
    metadata:
      labels:
        app: tomcat-prueba
    spec:
      containers:
      - name: tomcat-prueba
        image: mroura10/apptomcat
        ports:
        - containerPort: 8080

---
apiVersion: v1
kind: Service
metadata:
  name: svc-tomcat-prueba
spec:
  ports:
    - protocol: TCP
      port: 8080
      targetPort: 8080
  selector:
    app: tomcat-prueba

---

apiVersion: traefik.containo.us/v1alpha1
kind: IngressRoute
metadata:
  name: tomcatapp
  namespace: default
spec:
  entryPoints:
    - web
    - websecure
  routes:
  - match: PathPrefix(`/tomcat`)
    kind: Rule
    services:
    - name: svc-tomcat-prueba
      port: 80


[kubeadmin@master appPrueba]$ cat ../../Traefik/traefik2/deploy
deployment-traefik.yaml  deployWhoami.yaml
[kubeadmin@master appPrueba]$ cat ../../Traefik/traefik2/deployWhoami.yaml
kind: Deployment
apiVersion: apps/v1
metadata:
  namespace: default
  name: whoami
  labels:
    app: whoami

spec:
  replicas: 3
  selector:
    matchLabels:
      app: whoami
  template:
    metadata:
      labels:
        app: whoami
    spec:
      containers:
        - name: whoami
          image: containous/whoami
          ports:
            - name: web
              containerPort: 80
[kubeadmin@master appPrueba]$ cat ../../Traefik/traefik2/svc-whoami.yaml
apiVersion: v1
kind: Service
metadata:
  name: whoami

spec:
  ports:
    - protocol: TCP
      name: web
      port: 80
  selector:
    app: whoami
[kubeadmin@master appPrueba]$ vi animals-ingress.yaml
[kubeadmin@master appPrueba]$ kubectl apply -f animals-ingress.yaml
error: error validating "animals-ingress.yaml": error validating data: ValidationError(Deployment.spec.template.spec.containers[0].ports[0]): missing required field "containerPort" in io.k8s.api.core.v1.ContainerPort; if you choose to ignore these errors, turn validation off with --validate=false
[kubeadmin@master appPrueba]$ vi animals-ingress.yaml
[kubeadmin@master appPrueba]$ kubectl apply -f animals-ingress.yaml
deployment.apps/tomcat-prueba configured
service/svc-tomcat-prueba configured
ingressroute.traefik.containo.us/tomcatapp configured
[kubeadmin@master appPrueba]$ kubectl apply -f animals-ingress.yaml
deployment.apps/tomcat-prueba unchanged
service/svc-tomcat-prueba unchanged
ingressroute.traefik.containo.us/tomcatapp unchanged
[kubeadmin@master appPrueba]$ vi animals-ingress.yaml
[kubeadmin@master appPrueba]$ kubectl apply -f animals-ingress.yaml
deployment.apps/tomcat-prueba unchanged
service/svc-tomcat-prueba unchanged
ingressroute.traefik.containo.us/tomcatapp configured
[kubeadmin@master appPrueba]$ cd ..
[kubeadmin@master deploys]$ cd ..
[kubeadmin@master ~]$ ll
total 0
drwxrwxr-x 2 kubeadmin kubeadmin 159 Oct 29 13:21 appTomcat
drwxrwxr-x 3 kubeadmin kubeadmin  23 Oct 29 13:21 deploys
drwxrwxr-x 2 kubeadmin kubeadmin 267 Oct 29 13:21 josedom-mariadb-wp
drwxrwxr-x 2 kubeadmin kubeadmin 180 Oct 29 13:21 mysql-wordpress
drwxrwxr-x 2 kubeadmin kubeadmin  65 Oct 29 13:21 nfs-Nginx
drwxrwxr-x 2 kubeadmin kubeadmin 170 Oct 29 13:21 php-redis
drwxrwxr-x 5 kubeadmin kubeadmin 147 Oct 31 08:53 Traefik
drwxrwxr-x 2 kubeadmin kubeadmin 188 Oct 29 13:21 wp3
drwxrwxr-x 2 kubeadmin kubeadmin  76 Oct 29 13:21 wp-mysql_2
[kubeadmin@master ~]$ cd appTomcat/
[kubeadmin@master appTomcat]$ ll
total 90616
-rw-rw-r-- 1 kubeadmin kubeadmin      196 Oct 29 13:21 apache-tomcat-8.5.72.tar.gz
-rw-rw-r-- 1 kubeadmin kubeadmin      196 Oct 29 13:21 apache-tomcat-8.5.72.zip
-rw-rw-r-- 1 kubeadmin kubeadmin 42951654 Oct 29 13:21 cas-server.war
-rw-rw-r-- 1 kubeadmin kubeadmin 49817408 Oct 29 13:21 ci2rest.war
-rw-rw-r-- 1 kubeadmin kubeadmin      528 Oct 29 13:21 Dockerfile
-rw-rw-r-- 1 kubeadmin kubeadmin     1599 Oct 29 13:21 jbossHelloWorld.war
[kubeadmin@master appTomcat]$ cat Dockerfile
FROM centos

MAINTAINER aksarav@middlewareinventory.com

RUN mkdir /opt/tomcat/

WORKDIR /opt/tomcat
RUN yum install -y unzip
RUN curl -O https://dlcdn.apache.org/tomcat/tomcat-8/v8.5.72/bin/apache-tomcat-8.5.72.tar.gz
RUN ls -latr
RUN tar zxvf  apache*
RUN mv apache-tomcat-8.5.72/* /opt/tomcat/.
RUN yum -y install java
RUN java -version

WORKDIR /opt/tomcat/webapps
RUN curl -O -L https://github.com/AKSarav/SampleWebApp/raw/master/dist/SampleWebApp.war
COPY *.war ./

EXPOSE 8080

CMD ["/opt/tomcat/bin/catalina.sh", "run"]
[kubeadmin@master appTomcat]$ ^C
[kubeadmin@master appTomcat]$ ^C
[kubeadmin@master appTomcat]$ kubectl get pods
NAME                             READY   STATUS        RESTARTS      AGE
tomcat-prueba-666f7587b-5hwvg    1/1     Running       0             12m
tomcat-prueba-666f7587b-b7vg5    1/1     Running       0             11m
tomcat-prueba-666f7587b-hs464    1/1     Running       0             12m
tomcat-prueba-868b776cc5-9g8bw   1/1     Terminating   0             40m
tomcat-prueba-868b776cc5-gdl7l   1/1     Terminating   0             40m
traefik-69ccfb946f-njq42         1/1     Running       0             57m
whoami-658d568b94-66lv9          1/1     Running       0             55m
whoami-658d568b94-c9z6h          1/1     Running       1 (98m ago)   22h
whoami-658d568b94-xpvrt          1/1     Running       1 (98m ago)   22h
[kubeadmin@master appTomcat]$ docker exec -i t tomcat-prueba-666f7587b-5hwvg sh
Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get "http://%2Fvar%2Frun%2Fdocker.sock/v1.24/containers/t/json": dial unix /var/run/docker.sock: connect: permission denied
[kubeadmin@master appTomcat]$ su -
Password:
Last login: Sun Oct 31 09:51:59 CET 2021 on pts/0
[root@master ~]# docker exec -i t tomcat-prueba-666f7587b-5hwvg sh
Error: No such container: t
[root@master ~]# docker exec -it tomcat-prueba-666f7587b-5hwvg sh
Error: No such container: tomcat-prueba-666f7587b-5hwvg
[root@master ~]# su - kubeadmin
Last login: Sun Oct 31 09:53:49 CET 2021 on pts/0
[kubeadmin@master ~]$ su -
Password:
Last login: Sun Oct 31 10:17:58 CET 2021 on pts/0
[root@master ~]# vi /etc/sudoers
[root@master ~]# sudo docker exec -i t tomcat-prueba-666f7587b-5hwvg sh
Error: No such container: t
[root@master ~]# sudo docker exec -it tomcat-prueba-666f7587b-5hwvg sh
Error: No such container: tomcat-prueba-666f7587b-5hwvg
[root@master ~]# kubectl get deploys
error: the server doesn't have a resource type "deploys"
[root@master ~]# kubectl get deployments
NAME            READY   UP-TO-DATE   AVAILABLE   AGE
tomcat-prueba   3/3     3            3           43m
traefik         1/1     1            1           22h
whoami          3/3     3            3           22h
[root@master ~]# su - kubeadmin
Last login: Sun Oct 31 10:18:26 CET 2021 on pts/0
[kubeadmin@master ~]$ kubectl exec --stdin --tty tomcat-prueba-666f7587b-5hwvg -- /bin/bash
[root@tomcat-prueba-666f7587b-5hwvg webapps]# ll
bash: ll: command not found
[root@tomcat-prueba-666f7587b-5hwvg webapps]# ls
ROOT  SampleWebApp  SampleWebApp.war  cas-server  cas-server.war  ci2rest  ci2rest.war  docs  examples  host-manager  jbossHelloWorld  jbossHelloWorld.war  manager
[root@tomcat-prueba-666f7587b-5hwvg webapps]# cd manager/
[root@tomcat-prueba-666f7587b-5hwvg manager]# ll
bash: ll: command not found
[root@tomcat-prueba-666f7587b-5hwvg manager]# ls
META-INF  WEB-INF  css  images  index.jsp  status.xsd  xform.xsl
[root@tomcat-prueba-666f7587b-5hwvg manager]# cd META-INF
[root@tomcat-prueba-666f7587b-5hwvg META-INF]# ls
context.xml
[root@tomcat-prueba-666f7587b-5hwvg META-INF]# vi context.xml
[root@tomcat-prueba-666f7587b-5hwvg META-INF]# exit
exit
[kubeadmin@master ~]$ kubectl exec --stdin --tty tomcat-prueba-666f7587b-b7vg5 -- /bin/bash
[root@tomcat-prueba-666f7587b-b7vg5 webapps]# cd manager/META-INF/
[root@tomcat-prueba-666f7587b-b7vg5 META-INF]# vi context.xml
[root@tomcat-prueba-666f7587b-b7vg5 META-INF]# exit
exit
[kubeadmin@master ~]$ kubectl exec --stdin --tty tomcat-prueba-666f7587b-hs464 -- /bin/bash
[root@tomcat-prueba-666f7587b-hs464 webapps]# vi manager/META-INF/context.xml
[root@tomcat-prueba-666f7587b-hs464 webapps]# exit
exit
[kubeadmin@master ~]$ kubectl exec --stdin --tty tomcat-prueba-666f7587b-hs464 -- /bin/bash
[root@tomcat-prueba-666f7587b-hs464 webapps]# ls
ROOT  SampleWebApp  SampleWebApp.war  cas-server  cas-server.war  ci2rest  ci2rest.war  docs  examples  host-manager  jbossHelloWorld  jbossHelloWorld.war  manager
[root@tomcat-prueba-666f7587b-hs464 webapps]# cd manager/
[root@tomcat-prueba-666f7587b-hs464 manager]# ls
META-INF  WEB-INF  css  images  index.jsp  status.xsd  xform.xsl
[root@tomcat-prueba-666f7587b-hs464 manager]# cd META-INF/
[root@tomcat-prueba-666f7587b-hs464 META-INF]# ls
context.xml
[root@tomcat-prueba-666f7587b-hs464 META-INF]# vi context.xml
[root@tomcat-prueba-666f7587b-hs464 META-INF]# cd ..
[root@tomcat-prueba-666f7587b-hs464 manager]# cd ..
[root@tomcat-prueba-666f7587b-hs464 webapps]# ls
ROOT  SampleWebApp  SampleWebApp.war  cas-server  cas-server.war  ci2rest  ci2rest.war  docs  examples  host-manager  jbossHelloWorld  jbossHelloWorld.war  manager
[root@tomcat-prueba-666f7587b-hs464 webapps]# cd ..
[root@tomcat-prueba-666f7587b-hs464 tomcat]# ls
BUILDING.txt  CONTRIBUTING.md  LICENSE  NOTICE  README.md  RELEASE-NOTES  RUNNING.txt  apache-tomcat-8.5.72  apache-tomcat-8.5.72.tar.gz  bin  conf  lib  logs  temp  webapps  work
[root@tomcat-prueba-666f7587b-hs464 tomcat]# cd conf/
[root@tomcat-prueba-666f7587b-hs464 conf]# ls
Catalina  catalina.policy  catalina.properties  context.xml  jaspic-providers.xml  jaspic-providers.xsd  logging.properties  server.xml  tomcat-users.xml  tomcat-users.xsd  web.xml
[root@tomcat-prueba-666f7587b-hs464 conf]# vi tomcat-users.xml
[root@tomcat-prueba-666f7587b-hs464 conf]# exit
exit
[kubeadmin@master ~]$ kubectl exec --stdin --tty tomcat-prueba-666f7587b-b7vg5 -- /bin/bash
[root@tomcat-prueba-666f7587b-b7vg5 webapps]# cd ..
[root@tomcat-prueba-666f7587b-b7vg5 tomcat]# ls
BUILDING.txt  CONTRIBUTING.md  LICENSE  NOTICE  README.md  RELEASE-NOTES  RUNNING.txt  apache-tomcat-8.5.72  apache-tomcat-8.5.72.tar.gz  bin  conf  lib  logs  temp  webapps  work
[root@tomcat-prueba-666f7587b-b7vg5 tomcat]# cd conf/
[root@tomcat-prueba-666f7587b-b7vg5 conf]# ls
Catalina  catalina.policy  catalina.properties  context.xml  jaspic-providers.xml  jaspic-providers.xsd  logging.properties  server.xml  tomcat-users.xml  tomcat-users.xsd  web.xml
[root@tomcat-prueba-666f7587b-b7vg5 conf]# vi tomcat-users.xml
[root@tomcat-prueba-666f7587b-b7vg5 conf]# exit
exit
[kubeadmin@master ~]$ kubectl exec --stdin --tty tomcat-prueba-666f7587b-5hwvg -- /bin/bash
[root@tomcat-prueba-666f7587b-5hwvg webapps]# cd ..
[root@tomcat-prueba-666f7587b-5hwvg tomcat]# ls
BUILDING.txt  CONTRIBUTING.md  LICENSE  NOTICE  README.md  RELEASE-NOTES  RUNNING.txt  apache-tomcat-8.5.72  apache-tomcat-8.5.72.tar.gz  bin  conf  lib  logs  temp  webapps  work
[root@tomcat-prueba-666f7587b-5hwvg tomcat]# cd conf/
[root@tomcat-prueba-666f7587b-5hwvg conf]# ls
Catalina  catalina.policy  catalina.properties  context.xml  jaspic-providers.xml  jaspic-providers.xsd  logging.properties  server.xml  tomcat-users.xml  tomcat-users.xsd  web.xml
[root@tomcat-prueba-666f7587b-5hwvg conf]# vi tomcat-users.xml
[root@tomcat-prueba-666f7587b-5hwvg conf]# exit
exit
[kubeadmin@master ~]$ kubectl exec --stdin --tty tomcat-prueba-666f7587b-5hwvg -- /bin/bash
[root@tomcat-prueba-666f7587b-5hwvg webapps]# systemctl restart tomcat
System has not been booted with systemd as init system (PID 1). Can't operate.
Failed to connect to bus: Host is down
[root@tomcat-prueba-666f7587b-5hwvg webapps]# systemctl status tomcat
System has not been booted with systemd as init system (PID 1). Can't operate.
Failed to connect to bus: Host is down
[root@tomcat-prueba-666f7587b-5hwvg webapps]# ls
ROOT  SampleWebApp  SampleWebApp.war  cas-server  cas-server.war  ci2rest  ci2rest.war  docs  examples  host-manager  jbossHelloWorld  jbossHelloWorld.war  manager
[root@tomcat-prueba-666f7587b-5hwvg webapps]# cd ../conf/
[root@tomcat-prueba-666f7587b-5hwvg conf]# ls
Catalina  catalina.policy  catalina.properties  context.xml  jaspic-providers.xml  jaspic-providers.xsd  logging.properties  server.xml  tomcat-users.xml  tomcat-users.xsd  web.xml
[root@tomcat-prueba-666f7587b-5hwvg conf]# vi tomcat-users.xml
[root@tomcat-prueba-666f7587b-5hwvg conf]# exit
exit
[kubeadmin@master ~]$ kubectl exec --stdin --tty tomcat-prueba-666f7587b-b7vg5 -- /bin/bash
[root@tomcat-prueba-666f7587b-b7vg5 webapps]# cd ../conf/
[root@tomcat-prueba-666f7587b-b7vg5 conf]# vi tomcat-users.xml
[root@tomcat-prueba-666f7587b-b7vg5 conf]# exit
exit
[kubeadmin@master ~]$ kubectl exec --stdin --tty tomcat-prueba-666f7587b-hs464 -- /bin/bash
[root@tomcat-prueba-666f7587b-hs464 webapps]# cd ../conf/
[root@tomcat-prueba-666f7587b-hs464 conf]# vi tomcat-users.xml
[root@tomcat-prueba-666f7587b-hs464 conf]# exit
exit
[kubeadmin@master ~]$ ll
total 0
drwxrwxr-x 2 kubeadmin kubeadmin 159 Oct 29 13:21 appTomcat
drwxrwxr-x 3 kubeadmin kubeadmin  23 Oct 29 13:21 deploys
drwxrwxr-x 2 kubeadmin kubeadmin 267 Oct 29 13:21 josedom-mariadb-wp
drwxrwxr-x 2 kubeadmin kubeadmin 180 Oct 29 13:21 mysql-wordpress
drwxrwxr-x 2 kubeadmin kubeadmin  65 Oct 29 13:21 nfs-Nginx
drwxrwxr-x 2 kubeadmin kubeadmin 170 Oct 29 13:21 php-redis
drwxrwxr-x 5 kubeadmin kubeadmin 147 Oct 31 08:53 Traefik
drwxrwxr-x 2 kubeadmin kubeadmin 188 Oct 29 13:21 wp3
drwxrwxr-x 2 kubeadmin kubeadmin  76 Oct 29 13:21 wp-mysql_2
[kubeadmin@master ~]$ cd Traefik/traefik2/
[kubeadmin@master traefik2]$ ll
total 20
-rw-rw-r-- 1 kubeadmin kubeadmin 919 Oct 31 09:19 deployment-traefik.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin 396 Oct 31 09:20 deployWhoami.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin 274 Oct 31 09:34 ingressRoute_whoami.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin 394 Oct 31 09:14 svc-traefik.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin 161 Oct 31 09:21 svc-whoami.yaml
[kubeadmin@master traefik2]$ cd ../traefik3
[kubeadmin@master traefik3]$ ll
total 68
-rw-rw-r-- 1 kubeadmin kubeadmin 63040 Oct 31 08:55 definitions.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  1144 Oct 31 08:56 rbac.yaml
[kubeadmin@master traefik3]$ vi rbac.yaml
[kubeadmin@master traefik3]$ cat rbac.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: traefik-ingress-controller

rules:
  - apiGroups:
      - ""
    resources:
      - services
      - endpoints
      - secrets
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - extensions
      - networking.k8s.io
    resources:
      - ingresses
      - ingressclasses
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - extensions
    resources:
      - ingresses/status
    verbs:
      - update
  - apiGroups:
      - traefik.containo.us
    resources:
      - middlewares
      - middlewaretcps
      - ingressroutes
      - traefikservices
      - ingressroutetcps
      - ingressrouteudps
      - tlsoptions
      - tlsstores
      - serverstransports
    verbs:
      - get
      - list
      - watch

---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: traefik-ingress-controller

roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: traefik-ingress-controller
subjects:
  - kind: ServiceAccount
    name: traefik-ingress-controller
    namespace: default
[kubeadmin@master traefik3]$
[kubeadmin@master traefik3]$ ll
total 68
-rw-rw-r-- 1 kubeadmin kubeadmin 63040 Oct 31 08:55 definitions.yaml
-rw-rw-r-- 1 kubeadmin kubeadmin  1144 Oct 31 08:56 rbac.yaml
[kubeadmin@master traefik3]$ cat definitions.yaml
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.6.2
  creationTimestamp: null
  name: ingressroutes.traefik.containo.us
spec:
  group: traefik.containo.us
  names:
    kind: IngressRoute
    listKind: IngressRouteList
    plural: ingressroutes
    singular: ingressroute
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: IngressRoute is an Ingress CRD specification.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: IngressRouteSpec is a specification for a IngressRouteSpec
              resource.
            properties:
              entryPoints:
                items:
                  type: string
                type: array
              routes:
                items:
                  description: Route contains the set of routes.
                  properties:
                    kind:
                      enum:
                      - Rule
                      type: string
                    match:
                      type: string
                    middlewares:
                      items:
                        description: MiddlewareRef is a ref to the Middleware resources.
                        properties:
                          name:
                            type: string
                          namespace:
                            type: string
                        required:
                        - name
                        type: object
                      type: array
                    priority:
                      type: integer
                    services:
                      items:
                        description: Service defines an upstream to proxy traffic.
                        properties:
                          kind:
                            enum:
                            - Service
                            - TraefikService
                            type: string
                          name:
                            description: Name is a reference to a Kubernetes Service
                              object (for a load-balancer of servers), or to a TraefikService
                              object (service load-balancer, mirroring, etc). The
                              differentiation between the two is specified in the
                              Kind field.
                            type: string
                          namespace:
                            type: string
                          passHostHeader:
                            type: boolean
                          port:
                            anyOf:
                            - type: integer
                            - type: string
                            x-kubernetes-int-or-string: true
                          responseForwarding:
                            description: ResponseForwarding holds configuration for
                              the forward of the response.
                            properties:
                              flushInterval:
                                type: string
                            type: object
                          scheme:
                            type: string
                          serversTransport:
                            type: string
                          sticky:
                            description: Sticky holds the sticky configuration.
                            properties:
                              cookie:
                                description: Cookie holds the sticky configuration
                                  based on cookie.
                                properties:
                                  httpOnly:
                                    type: boolean
                                  name:
                                    type: string
                                  sameSite:
                                    type: string
                                  secure:
                                    type: boolean
                                type: object
                            type: object
                          strategy:
                            type: string
                          weight:
                            description: Weight should only be specified when Name
                              references a TraefikService object (and to be precise,
                              one that embeds a Weighted Round Robin).
                            type: integer
                        required:
                        - name
                        type: object
                      type: array
                  required:
                  - kind
                  - match
                  type: object
                type: array
              tls:
                description: "TLS contains the TLS certificates configuration of the
                  routes. To enable Let's Encrypt, use an empty TLS struct, e.g. in
                  YAML: \n \t tls: {} # inline format \n \t tls: \t   secretName:
                  # block format"
                properties:
                  certResolver:
                    type: string
                  domains:
                    items:
                      description: Domain holds a domain name with SANs.
                      properties:
                        main:
                          type: string
                        sans:
                          items:
                            type: string
                          type: array
                      type: object
                    type: array
                  options:
                    description: Options is a reference to a TLSOption, that specifies
                      the parameters of the TLS connection.
                    properties:
                      name:
                        type: string
                      namespace:
                        type: string
                    required:
                    - name
                    type: object
                  secretName:
                    description: SecretName is the name of the referenced Kubernetes
                      Secret to specify the certificate details.
                    type: string
                  store:
                    description: Store is a reference to a TLSStore, that specifies
                      the parameters of the TLS store.
                    properties:
                      name:
                        type: string
                      namespace:
                        type: string
                    required:
                    - name
                    type: object
                type: object
            required:
            - routes
            type: object
        required:
        - metadata
        - spec
        type: object
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []

---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.6.2
  creationTimestamp: null
  name: ingressroutetcps.traefik.containo.us
spec:
  group: traefik.containo.us
  names:
    kind: IngressRouteTCP
    listKind: IngressRouteTCPList
    plural: ingressroutetcps
    singular: ingressroutetcp
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: IngressRouteTCP is an Ingress CRD specification.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: IngressRouteTCPSpec is a specification for a IngressRouteTCPSpec
              resource.
            properties:
              entryPoints:
                items:
                  type: string
                type: array
              routes:
                items:
                  description: RouteTCP contains the set of routes.
                  properties:
                    match:
                      type: string
                    middlewares:
                      description: Middlewares contains references to MiddlewareTCP
                        resources.
                      items:
                        description: ObjectReference is a generic reference to a Traefik
                          resource.
                        properties:
                          name:
                            type: string
                          namespace:
                            type: string
                        required:
                        - name
                        type: object
                      type: array
                    services:
                      items:
                        description: ServiceTCP defines an upstream to proxy traffic.
                        properties:
                          name:
                            type: string
                          namespace:
                            type: string
                          port:
                            anyOf:
                            - type: integer
                            - type: string
                            x-kubernetes-int-or-string: true
                          proxyProtocol:
                            description: ProxyProtocol holds the ProxyProtocol configuration.
                            properties:
                              version:
                                type: integer
                            type: object
                          terminationDelay:
                            type: integer
                          weight:
                            type: integer
                        required:
                        - name
                        - port
                        type: object
                      type: array
                  required:
                  - match
                  type: object
                type: array
              tls:
                description: "TLSTCP contains the TLS certificates configuration of
                  the routes. To enable Let's Encrypt, use an empty TLS struct, e.g.
                  in YAML: \n \t tls: {} # inline format \n \t tls: \t   secretName:
                  # block format"
                properties:
                  certResolver:
                    type: string
                  domains:
                    items:
                      description: Domain holds a domain name with SANs.
                      properties:
                        main:
                          type: string
                        sans:
                          items:
                            type: string
                          type: array
                      type: object
                    type: array
                  options:
                    description: Options is a reference to a TLSOption, that specifies
                      the parameters of the TLS connection.
                    properties:
                      name:
                        type: string
                      namespace:
                        type: string
                    required:
                    - name
                    type: object
                  passthrough:
                    type: boolean
                  secretName:
                    description: SecretName is the name of the referenced Kubernetes
                      Secret to specify the certificate details.
                    type: string
                  store:
                    description: Store is a reference to a TLSStore, that specifies
                      the parameters of the TLS store.
                    properties:
                      name:
                        type: string
                      namespace:
                        type: string
                    required:
                    - name
                    type: object
                type: object
            required:
            - routes
            type: object
        required:
        - metadata
        - spec
        type: object
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []

---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.6.2
  creationTimestamp: null
  name: ingressrouteudps.traefik.containo.us
spec:
  group: traefik.containo.us
  names:
    kind: IngressRouteUDP
    listKind: IngressRouteUDPList
    plural: ingressrouteudps
    singular: ingressrouteudp
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: IngressRouteUDP is an Ingress CRD specification.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: IngressRouteUDPSpec is a specification for a IngressRouteUDPSpec
              resource.
            properties:
              entryPoints:
                items:
                  type: string
                type: array
              routes:
                items:
                  description: RouteUDP contains the set of routes.
                  properties:
                    services:
                      items:
                        description: ServiceUDP defines an upstream to proxy traffic.
                        properties:
                          name:
                            type: string
                          namespace:
                            type: string
                          port:
                            anyOf:
                            - type: integer
                            - type: string
                            x-kubernetes-int-or-string: true
                          weight:
                            type: integer
                        required:
                        - name
                        - port
                        type: object
                      type: array
                  type: object
                type: array
            required:
            - routes
            type: object
        required:
        - metadata
        - spec
        type: object
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []

---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.6.2
  creationTimestamp: null
  name: middlewares.traefik.containo.us
spec:
  group: traefik.containo.us
  names:
    kind: Middleware
    listKind: MiddlewareList
    plural: middlewares
    singular: middleware
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Middleware is a specification for a Middleware resource.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: MiddlewareSpec holds the Middleware configuration.
            properties:
              addPrefix:
                description: AddPrefix holds the AddPrefix configuration.
                properties:
                  prefix:
                    type: string
                type: object
              basicAuth:
                description: BasicAuth holds the HTTP basic authentication configuration.
                properties:
                  headerField:
                    type: string
                  realm:
                    type: string
                  removeHeader:
                    type: boolean
                  secret:
                    type: string
                type: object
              buffering:
                description: Buffering holds the request/response buffering configuration.
                properties:
                  maxRequestBodyBytes:
                    format: int64
                    type: integer
                  maxResponseBodyBytes:
                    format: int64
                    type: integer
                  memRequestBodyBytes:
                    format: int64
                    type: integer
                  memResponseBodyBytes:
                    format: int64
                    type: integer
                  retryExpression:
                    type: string
                type: object
              chain:
                description: Chain holds a chain of middlewares.
                properties:
                  middlewares:
                    items:
                      description: MiddlewareRef is a ref to the Middleware resources.
                      properties:
                        name:
                          type: string
                        namespace:
                          type: string
                      required:
                      - name
                      type: object
                    type: array
                type: object
              circuitBreaker:
                description: CircuitBreaker holds the circuit breaker configuration.
                properties:
                  expression:
                    type: string
                type: object
              compress:
                description: Compress holds the compress configuration.
                properties:
                  excludedContentTypes:
                    items:
                      type: string
                    type: array
                type: object
              contentType:
                description: ContentType middleware - or rather its unique `autoDetect`
                  option - specifies whether to let the `Content-Type` header, if
                  it has not been set by the backend, be automatically set to a value
                  derived from the contents of the response. As a proxy, the default
                  behavior should be to leave the header alone, regardless of what
                  the backend did with it. However, the historic default was to always
                  auto-detect and set the header if it was nil, and it is going to
                  be kept that way in order to support users currently relying on
                  it. This middleware exists to enable the correct behavior until
                  at least the default one can be changed in a future version.
                properties:
                  autoDetect:
                    type: boolean
                type: object
              digestAuth:
                description: DigestAuth holds the Digest HTTP authentication configuration.
                properties:
                  headerField:
                    type: string
                  realm:
                    type: string
                  removeHeader:
                    type: boolean
                  secret:
                    type: string
                type: object
              errors:
                description: ErrorPage holds the custom error page configuration.
                properties:
                  query:
                    type: string
                  service:
                    description: Service defines an upstream to proxy traffic.
                    properties:
                      kind:
                        enum:
                        - Service
                        - TraefikService
                        type: string
                      name:
                        description: Name is a reference to a Kubernetes Service object
                          (for a load-balancer of servers), or to a TraefikService
                          object (service load-balancer, mirroring, etc). The differentiation
                          between the two is specified in the Kind field.
                        type: string
                      namespace:
                        type: string
                      passHostHeader:
                        type: boolean
                      port:
                        anyOf:
                        - type: integer
                        - type: string
                        x-kubernetes-int-or-string: true
                      responseForwarding:
                        description: ResponseForwarding holds configuration for the
                          forward of the response.
                        properties:
                          flushInterval:
                            type: string
                        type: object
                      scheme:
                        type: string
                      serversTransport:
                        type: string
                      sticky:
                        description: Sticky holds the sticky configuration.
                        properties:
                          cookie:
                            description: Cookie holds the sticky configuration based
                              on cookie.
                            properties:
                              httpOnly:
                                type: boolean
                              name:
                                type: string
                              sameSite:
                                type: string
                              secure:
                                type: boolean
                            type: object
                        type: object
                      strategy:
                        type: string
                      weight:
                        description: Weight should only be specified when Name references
                          a TraefikService object (and to be precise, one that embeds
                          a Weighted Round Robin).
                        type: integer
                    required:
                    - name
                    type: object
                  status:
                    items:
                      type: string
                    type: array
                type: object
              forwardAuth:
                description: ForwardAuth holds the http forward authentication configuration.
                properties:
                  address:
                    type: string
                  authRequestHeaders:
                    items:
                      type: string
                    type: array
                  authResponseHeaders:
                    items:
                      type: string
                    type: array
                  authResponseHeadersRegex:
                    type: string
                  tls:
                    description: ClientTLS holds TLS specific configurations as client.
                    properties:
                      caOptional:
                        type: boolean
                      caSecret:
                        type: string
                      certSecret:
                        type: string
                      insecureSkipVerify:
                        type: boolean
                    type: object
                  trustForwardHeader:
                    type: boolean
                type: object
              headers:
                description: Headers holds the custom header configuration.
                properties:
                  accessControlAllowCredentials:
                    description: AccessControlAllowCredentials is only valid if true.
                      false is ignored.
                    type: boolean
                  accessControlAllowHeaders:
                    description: AccessControlAllowHeaders must be used in response
                      to a preflight request with Access-Control-Request-Headers set.
                    items:
                      type: string
                    type: array
                  accessControlAllowMethods:
                    description: AccessControlAllowMethods must be used in response
                      to a preflight request with Access-Control-Request-Method set.
                    items:
                      type: string
                    type: array
                  accessControlAllowOriginList:
                    description: AccessControlAllowOriginList is a list of allowable
                      origins. Can also be a wildcard origin "*".
                    items:
                      type: string
                    type: array
                  accessControlAllowOriginListRegex:
                    description: AccessControlAllowOriginListRegex is a list of allowable
                      origins written following the Regular Expression syntax (https://golang.org/pkg/regexp/).
                    items:
                      type: string
                    type: array
                  accessControlExposeHeaders:
                    description: AccessControlExposeHeaders sets valid headers for
                      the response.
                    items:
                      type: string
                    type: array
                  accessControlMaxAge:
                    description: AccessControlMaxAge sets the time that a preflight
                      request may be cached.
                    format: int64
                    type: integer
                  addVaryHeader:
                    description: AddVaryHeader controls if the Vary header is automatically
                      added/updated when the AccessControlAllowOriginList is set.
                    type: boolean
                  allowedHosts:
                    items:
                      type: string
                    type: array
                  browserXssFilter:
                    type: boolean
                  contentSecurityPolicy:
                    type: string
                  contentTypeNosniff:
                    type: boolean
                  customBrowserXSSValue:
                    type: string
                  customFrameOptionsValue:
                    type: string
                  customRequestHeaders:
                    additionalProperties:
                      type: string
                    type: object
                  customResponseHeaders:
                    additionalProperties:
                      type: string
                    type: object
                  featurePolicy:
                    description: 'Deprecated: use PermissionsPolicy instead.'
                    type: string
                  forceSTSHeader:
                    type: boolean
                  frameDeny:
                    type: boolean
                  hostsProxyHeaders:
                    items:
                      type: string
                    type: array
                  isDevelopment:
                    type: boolean
                  permissionsPolicy:
                    type: string
                  publicKey:
                    type: string
                  referrerPolicy:
                    type: string
                  sslForceHost:
                    description: 'Deprecated: use RedirectRegex instead.'
                    type: boolean
                  sslHost:
                    description: 'Deprecated: use RedirectRegex instead.'
                    type: string
                  sslProxyHeaders:
                    additionalProperties:
                      type: string
                    type: object
                  sslRedirect:
                    description: 'Deprecated: use EntryPoint redirection or RedirectScheme
                      instead.'
                    type: boolean
                  sslTemporaryRedirect:
                    description: 'Deprecated: use EntryPoint redirection or RedirectScheme
                      instead.'
                    type: boolean
                  stsIncludeSubdomains:
                    type: boolean
                  stsPreload:
                    type: boolean
                  stsSeconds:
                    format: int64
                    type: integer
                type: object
              inFlightReq:
                description: InFlightReq limits the number of requests being processed
                  and served concurrently.
                properties:
                  amount:
                    format: int64
                    type: integer
                  sourceCriterion:
                    description: SourceCriterion defines what criterion is used to
                      group requests as originating from a common source. If none
                      are set, the default is to use the request's remote address
                      field. All fields are mutually exclusive.
                    properties:
                      ipStrategy:
                        description: IPStrategy holds the ip strategy configuration.
                        properties:
                          depth:
                            type: integer
                          excludedIPs:
                            items:
                              type: string
                            type: array
                        type: object
                      requestHeaderName:
                        type: string
                      requestHost:
                        type: boolean
                    type: object
                type: object
              ipWhiteList:
                description: IPWhiteList holds the ip white list configuration.
                properties:
                  ipStrategy:
                    description: IPStrategy holds the ip strategy configuration.
                    properties:
                      depth:
                        type: integer
                      excludedIPs:
                        items:
                          type: string
                        type: array
                    type: object
                  sourceRange:
                    items:
                      type: string
                    type: array
                type: object
              passTLSClientCert:
                description: PassTLSClientCert holds the TLS client cert headers configuration.
                properties:
                  info:
                    description: TLSClientCertificateInfo holds the client TLS certificate
                      info configuration.
                    properties:
                      issuer:
                        description: TLSClientCertificateDNInfo holds the client TLS
                          certificate distinguished name info configuration. cf https://tools.ietf.org/html/rfc3739
                        properties:
                          commonName:
                            type: boolean
                          country:
                            type: boolean
                          domainComponent:
                            type: boolean
                          locality:
                            type: boolean
                          organization:
                            type: boolean
                          province:
                            type: boolean
                          serialNumber:
                            type: boolean
                        type: object
                      notAfter:
                        type: boolean
                      notBefore:
                        type: boolean
                      sans:
                        type: boolean
                      serialNumber:
                        type: boolean
                      subject:
                        description: TLSClientCertificateDNInfo holds the client TLS
                          certificate distinguished name info configuration. cf https://tools.ietf.org/html/rfc3739
                        properties:
                          commonName:
                            type: boolean
                          country:
                            type: boolean
                          domainComponent:
                            type: boolean
                          locality:
                            type: boolean
                          organization:
                            type: boolean
                          province:
                            type: boolean
                          serialNumber:
                            type: boolean
                        type: object
                    type: object
                  pem:
                    type: boolean
                type: object
              plugin:
                additionalProperties:
                  x-kubernetes-preserve-unknown-fields: true
                type: object
              rateLimit:
                description: RateLimit holds the rate limiting configuration for a
                  given router.
                properties:
                  average:
                    format: int64
                    type: integer
                  burst:
                    format: int64
                    type: integer
                  period:
                    anyOf:
                    - type: integer
                    - type: string
                    x-kubernetes-int-or-string: true
                  sourceCriterion:
                    description: SourceCriterion defines what criterion is used to
                      group requests as originating from a common source. If none
                      are set, the default is to use the request's remote address
                      field. All fields are mutually exclusive.
                    properties:
                      ipStrategy:
                        description: IPStrategy holds the ip strategy configuration.
                        properties:
                          depth:
                            type: integer
                          excludedIPs:
                            items:
                              type: string
                            type: array
                        type: object
                      requestHeaderName:
                        type: string
                      requestHost:
                        type: boolean
                    type: object
                type: object
              redirectRegex:
                description: RedirectRegex holds the redirection configuration.
                properties:
                  permanent:
                    type: boolean
                  regex:
                    type: string
                  replacement:
                    type: string
                type: object
              redirectScheme:
                description: RedirectScheme holds the scheme redirection configuration.
                properties:
                  permanent:
                    type: boolean
                  port:
                    type: string
                  scheme:
                    type: string
                type: object
              replacePath:
                description: ReplacePath holds the ReplacePath configuration.
                properties:
                  path:
                    type: string
                type: object
              replacePathRegex:
                description: ReplacePathRegex holds the ReplacePathRegex configuration.
                properties:
                  regex:
                    type: string
                  replacement:
                    type: string
                type: object
              retry:
                description: Retry holds the retry configuration.
                properties:
                  attempts:
                    type: integer
                  initialInterval:
                    anyOf:
                    - type: integer
                    - type: string
                    x-kubernetes-int-or-string: true
                type: object
              stripPrefix:
                description: StripPrefix holds the StripPrefix configuration.
                properties:
                  forceSlash:
                    type: boolean
                  prefixes:
                    items:
                      type: string
                    type: array
                type: object
              stripPrefixRegex:
                description: StripPrefixRegex holds the StripPrefixRegex configuration.
                properties:
                  regex:
                    items:
                      type: string
                    type: array
                type: object
            type: object
        required:
        - metadata
        - spec
        type: object
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []

---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.6.2
  creationTimestamp: null
  name: middlewaretcps.traefik.containo.us
spec:
  group: traefik.containo.us
  names:
    kind: MiddlewareTCP
    listKind: MiddlewareTCPList
    plural: middlewaretcps
    singular: middlewaretcp
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: MiddlewareTCP is a specification for a MiddlewareTCP resource.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: MiddlewareTCPSpec holds the MiddlewareTCP configuration.
            properties:
              ipWhiteList:
                description: TCPIPWhiteList holds the TCP ip white list configuration.
                properties:
                  sourceRange:
                    items:
                      type: string
                    type: array
                type: object
            type: object
        required:
        - metadata
        - spec
        type: object
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []

---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.6.2
  creationTimestamp: null
  name: serverstransports.traefik.containo.us
spec:
  group: traefik.containo.us
  names:
    kind: ServersTransport
    listKind: ServersTransportList
    plural: serverstransports
    singular: serverstransport
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: ServersTransport is a specification for a ServersTransport resource.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: ServersTransportSpec options to configure communication between
              Traefik and the servers.
            properties:
              certificatesSecrets:
                description: Certificates for mTLS.
                items:
                  type: string
                type: array
              disableHTTP2:
                description: Disable HTTP/2 for connections with backend servers.
                type: boolean
              forwardingTimeouts:
                description: Timeouts for requests forwarded to the backend servers.
                properties:
                  dialTimeout:
                    anyOf:
                    - type: integer
                    - type: string
                    description: The amount of time to wait until a connection to
                      a backend server can be established. If zero, no timeout exists.
                    x-kubernetes-int-or-string: true
                  idleConnTimeout:
                    anyOf:
                    - type: integer
                    - type: string
                    description: The maximum period for which an idle HTTP keep-alive
                      connection will remain open before closing itself.
                    x-kubernetes-int-or-string: true
                  responseHeaderTimeout:
                    anyOf:
                    - type: integer
                    - type: string
                    description: The amount of time to wait for a server's response
                      headers after fully writing the request (including its body,
                      if any). If zero, no timeout exists.
                    x-kubernetes-int-or-string: true
                type: object
              insecureSkipVerify:
                description: Disable SSL certificate verification.
                type: boolean
              maxIdleConnsPerHost:
                description: If non-zero, controls the maximum idle (keep-alive) to
                  keep per-host. If zero, DefaultMaxIdleConnsPerHost is used.
                type: integer
              peerCertURI:
                description: URI used to match against SAN URI during the peer certificate
                  verification.
                type: string
              rootCAsSecrets:
                description: Add cert file for self-signed certificate.
                items:
                  type: string
                type: array
              serverName:
                description: ServerName used to contact the server.
                type: string
            type: object
        required:
        - metadata
        - spec
        type: object
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []

---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.6.2
  creationTimestamp: null
  name: tlsoptions.traefik.containo.us
spec:
  group: traefik.containo.us
  names:
    kind: TLSOption
    listKind: TLSOptionList
    plural: tlsoptions
    singular: tlsoption
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: TLSOption is a specification for a TLSOption resource.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: TLSOptionSpec configures TLS for an entry point.
            properties:
              alpnProtocols:
                items:
                  type: string
                type: array
              cipherSuites:
                items:
                  type: string
                type: array
              clientAuth:
                description: ClientAuth defines the parameters of the client authentication
                  part of the TLS connection, if any.
                properties:
                  clientAuthType:
                    description: ClientAuthType defines the client authentication
                      type to apply.
                    enum:
                    - NoClientCert
                    - RequestClientCert
                    - RequireAnyClientCert
                    - VerifyClientCertIfGiven
                    - RequireAndVerifyClientCert
                    type: string
                  secretNames:
                    description: SecretName is the name of the referenced Kubernetes
                      Secret to specify the certificate details.
                    items:
                      type: string
                    type: array
                type: object
              curvePreferences:
                items:
                  type: string
                type: array
              maxVersion:
                type: string
              minVersion:
                type: string
              preferServerCipherSuites:
                type: boolean
              sniStrict:
                type: boolean
            type: object
        required:
        - metadata
        - spec
        type: object
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []

---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.6.2
  creationTimestamp: null
  name: tlsstores.traefik.containo.us
spec:
  group: traefik.containo.us
  names:
    kind: TLSStore
    listKind: TLSStoreList
    plural: tlsstores
    singular: tlsstore
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: TLSStore is a specification for a TLSStore resource.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: TLSStoreSpec configures a TLSStore resource.
            properties:
              defaultCertificate:
                description: DefaultCertificate holds a secret name for the TLSOption
                  resource.
                properties:
                  secretName:
                    description: SecretName is the name of the referenced Kubernetes
                      Secret to specify the certificate details.
                    type: string
                required:
                - secretName
                type: object
            required:
            - defaultCertificate
            type: object
        required:
        - metadata
        - spec
        type: object
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []

---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.6.2
  creationTimestamp: null
  name: traefikservices.traefik.containo.us
spec:
  group: traefik.containo.us
  names:
    kind: TraefikService
    listKind: TraefikServiceList
    plural: traefikservices
    singular: traefikservice
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: TraefikService is the specification for a service (that an IngressRoute
          refers to) that is usually not a terminal service (i.e. not a pod of servers),
          as opposed to a Kubernetes Service. That is to say, it usually refers to
          other (children) services, which themselves can be TraefikServices or Services.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: ServiceSpec defines whether a TraefikService is a load-balancer
              of services or a mirroring service.
            properties:
              mirroring:
                description: Mirroring defines a mirroring service, which is composed
                  of a main load-balancer, and a list of mirrors.
                properties:
                  kind:
                    enum:
                    - Service
                    - TraefikService
                    type: string
                  maxBodySize:
                    format: int64
                    type: integer
                  mirrors:
                    items:
                      description: MirrorService defines one of the mirrors of a Mirroring
                        service.
                      properties:
                        kind:
                          enum:
                          - Service
                          - TraefikService
                          type: string
                        name:
                          description: Name is a reference to a Kubernetes Service
                            object (for a load-balancer of servers), or to a TraefikService
                            object (service load-balancer, mirroring, etc). The differentiation
                            between the two is specified in the Kind field.
                          type: string
                        namespace:
                          type: string
                        passHostHeader:
                          type: boolean
                        percent:
                          type: integer
                        port:
                          anyOf:
                          - type: integer
                          - type: string
                          x-kubernetes-int-or-string: true
                        responseForwarding:
                          description: ResponseForwarding holds configuration for
                            the forward of the response.
                          properties:
                            flushInterval:
                              type: string
                          type: object
                        scheme:
                          type: string
                        serversTransport:
                          type: string
                        sticky:
                          description: Sticky holds the sticky configuration.
                          properties:
                            cookie:
                              description: Cookie holds the sticky configuration based
                                on cookie.
                              properties:
                                httpOnly:
                                  type: boolean
                                name:
                                  type: string
                                sameSite:
                                  type: string
                                secure:
                                  type: boolean
                              type: object
                          type: object
                        strategy:
                          type: string
                        weight:
                          description: Weight should only be specified when Name references
                            a TraefikService object (and to be precise, one that embeds
                            a Weighted Round Robin).
                          type: integer
                      required:
                      - name
                      type: object
                    type: array
                  name:
                    description: Name is a reference to a Kubernetes Service object
                      (for a load-balancer of servers), or to a TraefikService object
                      (service load-balancer, mirroring, etc). The differentiation
                      between the two is specified in the Kind field.
                    type: string
                  namespace:
                    type: string
                  passHostHeader:
                    type: boolean
                  port:
                    anyOf:
                    - type: integer
                    - type: string
                    x-kubernetes-int-or-string: true
                  responseForwarding:
                    description: ResponseForwarding holds configuration for the forward
                      of the response.
                    properties:
                      flushInterval:
                        type: string
                    type: object
                  scheme:
                    type: string
                  serversTransport:
                    type: string
                  sticky:
                    description: Sticky holds the sticky configuration.
                    properties:
                      cookie:
                        description: Cookie holds the sticky configuration based on
                          cookie.
                        properties:
                          httpOnly:
                            type: boolean
                          name:
                            type: string
                          sameSite:
                            type: string
                          secure:
                            type: boolean
                        type: object
                    type: object
                  strategy:
                    type: string
                  weight:
                    description: Weight should only be specified when Name references
                      a TraefikService object (and to be precise, one that embeds
                      a Weighted Round Robin).
                    type: integer
                required:
                - name
                type: object
              weighted:
                description: WeightedRoundRobin defines a load-balancer of services.
                properties:
                  services:
                    items:
                      description: Service defines an upstream to proxy traffic.
                      properties:
                        kind:
                          enum:
                          - Service
                          - TraefikService
                          type: string
                        name:
                          description: Name is a reference to a Kubernetes Service
                            object (for a load-balancer of servers), or to a TraefikService
                            object (service load-balancer, mirroring, etc). The differentiation
                            between the two is specified in the Kind field.
                          type: string
                        namespace:
                          type: string
                        passHostHeader:
                          type: boolean
                        port:
                          anyOf:
                          - type: integer
                          - type: string
                          x-kubernetes-int-or-string: true
                        responseForwarding:
                          description: ResponseForwarding holds configuration for
                            the forward of the response.
                          properties:
                            flushInterval:
                              type: string
                          type: object
                        scheme:
                          type: string
                        serversTransport:
                          type: string
                        sticky:
                          description: Sticky holds the sticky configuration.
                          properties:
                            cookie:
                              description: Cookie holds the sticky configuration based
                                on cookie.
                              properties:
                                httpOnly:
                                  type: boolean
                                name:
                                  type: string
                                sameSite:
                                  type: string
                                secure:
                                  type: boolean
                              type: object
                          type: object
                        strategy:
                          type: string
                        weight:
                          description: Weight should only be specified when Name references
                            a TraefikService object (and to be precise, one that embeds
                            a Weighted Round Robin).
                          type: integer
                      required:
                      - name
                      type: object
                    type: array
                  sticky:
                    description: Sticky holds the sticky configuration.
                    properties:
                      cookie:
                        description: Cookie holds the sticky configuration based on
                          cookie.
                        properties:
                          httpOnly:
                            type: boolean
                          name:
                            type: string
                          sameSite:
                            type: string
                          secure:
                            type: boolean
                        type: object
                    type: object
                type: object
            type: object
        required:
        - metadata
        - spec
        type: object
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
